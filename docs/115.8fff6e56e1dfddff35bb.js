"use strict";(self.webpackChunkinventario=self.webpackChunkinventario||[]).push([[115],{1115:($a,V,r)=>{r.r(V),r.d(V,{ImoinventarioModule:()=>Va});var f=r(8583),v=r(4655),ao=r(1878),y=r(3325),s=r(3032),h=r(2238),o=r(7716),c=r(3679),L=r(6320),C=r(789),T=r(3317),I=r(2522),_=r(8295),x=r(1095),q=r(6627),S=r(9983);function to(e,n){if(1&e&&(o.TgZ(0,"button",19),o.TgZ(1,"mat-icon"),o._uU(2,"check"),o.qZA(),o._uU(3),o.qZA()),2&e){const a=o.oxw();o.xp6(3),o.hij(" ",a.acao," ")}}let eo=(()=>{class e{constructor(a,t,i,l,m,d,p,g){this.formBuilder=a,this.valorService=t,this.route=i,this.router=l,this.appSnackBar=m,this.globalService=d,this.dialogRef=p,this.data=g,this.valor=new y.H,this.acao="Sem Defini\xe7\xe3o",this.idAcao=s.I.Consulta,this.readOnly=!0,this.labelCadastro="",this.formulario=a.group({id_imobilizado:[{value:""}],imo_descricao:[{value:""}],dtaquisicao:[{value:""}],vlraquisicao:[{value:""}],totaldepreciado:[{value:""}],vlrresidual:[{value:""}],reavalicao:[{value:""}],deemed:[{value:""}],vlrconsolidado:[{value:""}]}),this.valor=new y.H,this.idAcao=g.opcao,this.setAcao(this.idAcao)}ngOnInit(){this.valor=this.data.valor,this.setValue()}ngOnDestroy(){}actionFunction(){this.closeModal()}closeModal(){this.dialogRef.close()}setValue(){this.formulario.setValue({id_imobilizado:this.valor.id_imobilizado,imo_descricao:this.valor.imo_descricao,dtaquisicao:this.valor.dtaquisicao,vlraquisicao:this.valor.vlraquisicao,totaldepreciado:this.valor.totaldepreciado,vlrresidual:this.valor.vlrresidual,reavalicao:this.valor.reavalicao,deemed:this.valor.deemed,vlrconsolidado:this.valor.vlrconsolidado})}getLabelCancel(){return this.idAcao==s.I.Consulta?"Voltar":"Cancelar"}setAcao(a){+a===s.I.Consulta&&(this.acao="Voltar",this.labelCadastro="Valores - Consulta.",this.readOnly=!0)}getAcoes(){return s.I}}return e.\u0275fac=function(a){return new(a||e)(o.Y36(c.qu),o.Y36(L.r),o.Y36(v.gz),o.Y36(v.F0),o.Y36(C.W),o.Y36(T.U),o.Y36(h.so),o.Y36(h.WI))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-valores-dialog"]],decls:52,vars:12,consts:[[1,"example-spacer"],[1,"button-container-right"],["mat-raised-button","","color","primary",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["autocomplete","off",3,"formGroup"],[1,"col-med-3"],["appearance","outline",1,"col-70"],["matInput","","formControlName","id_imobilizado"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","imo_descricao","oninput","this.value = this.value.toUpperCase()","autofocus","",3,"readonly"],["appearance","outline",1,"col-max"],["matInput","","formControlName","dtaquisicao","mask","00/00/0000","placeholder","21/11/1987",3,"readonly"],["matInput","","formControlName","vlraquisicao","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","totaldepreciado","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","vlrresidual","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","reavalicao","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","deemed","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[1,"col-med-1"],["matInput","","formControlName","vlrconsolidado","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["mat-raised-button","","color","primary"]],template:function(a,t){1&a&&(o.TgZ(0,"p"),o.TgZ(1,"mat-toolbar"),o.TgZ(2,"span",0),o.TgZ(3,"mat-label"),o._uU(4),o.qZA(),o.qZA(),o.TgZ(5,"div",1),o.YNc(6,to,4,1,"button",2),o.TgZ(7,"button",3),o.NdJ("click",function(){return t.closeModal()}),o.TgZ(8,"mat-icon"),o._uU(9,"cancel"),o.qZA(),o._uU(10),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(11,"form",4),o.TgZ(12,"div",5),o.TgZ(13,"mat-form-field",6),o.TgZ(14,"mat-label"),o._uU(15,"C\xf3d Imobilizado"),o.qZA(),o._UZ(16,"input",7),o.qZA(),o.TgZ(17,"mat-form-field",8),o.TgZ(18,"mat-label"),o._uU(19,"Descri\xe7\xe3o"),o.qZA(),o._UZ(20,"input",9),o.qZA(),o.qZA(),o.TgZ(21,"div",5),o.TgZ(22,"mat-form-field",10),o.TgZ(23,"mat-label"),o._uU(24,"Data Aquisi\xe7\xe3o"),o.qZA(),o._UZ(25,"input",11),o.qZA(),o.TgZ(26,"mat-form-field",10),o.TgZ(27,"mat-label"),o._uU(28,"Vlr Aquisi\xe7\xe3o"),o.qZA(),o._UZ(29,"input",12),o.qZA(),o.TgZ(30,"mat-form-field",10),o.TgZ(31,"mat-label"),o._uU(32,"Total Depreciado"),o.qZA(),o._UZ(33,"input",13),o.qZA(),o.qZA(),o.TgZ(34,"div",5),o.TgZ(35,"mat-form-field",10),o.TgZ(36,"mat-label"),o._uU(37,"Vlr Residual"),o.qZA(),o._UZ(38,"input",14),o.qZA(),o.TgZ(39,"mat-form-field",10),o.TgZ(40,"mat-label"),o._uU(41,"Reavalia\xe7\xe3o"),o.qZA(),o._UZ(42,"input",15),o.qZA(),o.TgZ(43,"mat-form-field",10),o.TgZ(44,"mat-label"),o._uU(45,"Vlr DEEMED"),o.qZA(),o._UZ(46,"input",16),o.qZA(),o.qZA(),o.TgZ(47,"div",17),o.TgZ(48,"mat-form-field",10),o.TgZ(49,"mat-label"),o._uU(50,"Vlr Consolidado"),o.qZA(),o._UZ(51,"input",18),o.qZA(),o.qZA(),o.qZA()),2&a&&(o.xp6(4),o.Oqu(t.labelCadastro),o.xp6(2),o.Q6J("ngIf",3!=t.idAcao),o.xp6(4),o.hij(" ",t.getLabelCancel()," "),o.xp6(1),o.Q6J("formGroup",t.formulario),o.xp6(9),o.Q6J("readonly",t.readOnly),o.xp6(5),o.Q6J("readonly",t.readOnly),o.xp6(4),o.Q6J("readonly",t.readOnly),o.xp6(4),o.Q6J("readonly",t.readOnly),o.xp6(5),o.Q6J("readonly",t.readOnly),o.xp6(4),o.Q6J("readonly",t.readOnly),o.xp6(4),o.Q6J("readonly",t.readOnly),o.xp6(5),o.Q6J("readonly",t.readOnly))},directives:[I.Ye,_.hX,f.O5,x.lW,q.Hw,c._Y,c.JL,c.sg,_.KE,S.Nt,c.Fj,c.JJ,c.u],styles:[".mat-form-field[_ngcontent-%COMP%]{font-size:12px}"]}),e})();var Z=r(8239),u=r(6809),A=r(1606),E=r(6081),O=r(7441),w=r(2458);function io(e,n){if(1&e&&(o.TgZ(0,"mat-option",26),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.id),o.xp6(1),o.hij(" ",a.descricao," ")}}function no(e,n){if(1&e&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&e){const a=o.oxw(3);o.xp6(1),o.Oqu(a.getMensafield("situacao"))}}function ro(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-label"),o._uU(2,"Situa\xe7\xe3o"),o.qZA(),o.TgZ(3,"mat-select",23),o.YNc(4,io,2,2,"mat-option",24),o.qZA(),o.YNc(5,no,2,1,"mat-error",25),o.qZA()),2&e){const a=o.oxw(2);o.xp6(4),o.Q6J("ngForOf",a.situacoes),o.xp6(1),o.Q6J("ngIf",a.NoValidtouchedOrDirty("situacao"))}}function so(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-label"),o._uU(2,"Situa\xe7\xe3o"),o.qZA(),o._UZ(3,"input",27),o.qZA()),2&e){const a=o.oxw(2);o.xp6(3),o.Q6J("readonly",a.readOnly)}}function lo(e,n){if(1&e&&(o.TgZ(0,"mat-option",26),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.codigo),o.xp6(1),o.hij(" ",a.descricao," ")}}function co(e,n){if(1&e&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&e){const a=o.oxw(3);o.xp6(1),o.Oqu(a.getMensafield("cc_novo"))}}function mo(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-label"),o._uU(2,"Centro De Custo Novo"),o.qZA(),o.TgZ(3,"mat-select",28),o.YNc(4,lo,2,2,"mat-option",24),o.qZA(),o.YNc(5,co,2,1,"mat-error",25),o.qZA()),2&e){const a=o.oxw(2);o.xp6(4),o.Q6J("ngForOf",a.data.ccs),o.xp6(1),o.Q6J("ngIf",a.NoValidtouchedOrDirty("cc_novo"))}}function uo(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-label"),o._uU(2,"Centro De Custo Novo"),o.qZA(),o._UZ(3,"input",29),o.qZA()),2&e){const a=o.oxw(2);o.xp6(3),o.Q6J("readonly",a.readOnly)}}function po(e,n){if(1&e&&(o.TgZ(0,"mat-option",26),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.idx),o.xp6(1),o.hij(" ",a.descricao," ")}}function go(e,n){if(1&e&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&e){const a=o.oxw(3);o.xp6(1),o.Oqu(a.getMensafield("condicao"))}}function ho(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-label"),o._uU(2,"Condicao"),o.qZA(),o.TgZ(3,"mat-select",30),o.YNc(4,po,2,2,"mat-option",24),o.qZA(),o.YNc(5,go,2,1,"mat-error",25),o.qZA()),2&e){const a=o.oxw(2);o.xp6(4),o.Q6J("ngForOf",a.lsCondicoes),o.xp6(1),o.Q6J("ngIf",a.NoValidtouchedOrDirty("condicao"))}}function _o(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-label"),o._uU(2,"Condicao"),o.qZA(),o._UZ(3,"input",31),o.qZA()),2&e){const a=o.oxw(2);o.xp6(3),o.Q6J("readonly",a.readOnly)}}function fo(e,n){if(1&e&&(o.TgZ(0,"mat-option",26),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.sigla),o.xp6(1),o.hij(" ",a.descricao," ")}}function vo(e,n){if(1&e&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&e){const a=o.oxw(3);o.xp6(1),o.Oqu(a.getMensafield("condicao"))}}function Zo(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-label"),o._uU(2,"Book"),o.qZA(),o.TgZ(3,"mat-select",32),o.YNc(4,fo,2,2,"mat-option",24),o.qZA(),o.YNc(5,vo,2,1,"mat-error",25),o.qZA()),2&e){const a=o.oxw(2);o.xp6(4),o.Q6J("ngForOf",a.respostas),o.xp6(1),o.Q6J("ngIf",a.NoValidtouchedOrDirty("condicao"))}}function Ao(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-label"),o._uU(2,"Book"),o.qZA(),o._UZ(3,"input",33),o.qZA()),2&e){const a=o.oxw(2);o.xp6(3),o.Q6J("readonly",a.readOnly)}}function bo(e,n){if(1&e){const a=o.EpF();o.TgZ(0,"button",34),o.NdJ("click",function(){return o.CHM(a),o.oxw(2).actionFunction()}),o.TgZ(1,"mat-icon"),o._uU(2,"check"),o.qZA(),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.qZA()}if(2&e){const a=o.oxw(2);o.Q6J("disabled",a.gravando),o.xp6(4),o.Oqu(a.acao)}}function Co(e,n){if(1&e){const a=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"div",2),o.TgZ(2,"mat-toolbar"),o.TgZ(3,"span",3),o._uU(4),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5,"div",1),o.TgZ(6,"form",4),o.TgZ(7,"div",5),o.TgZ(8,"mat-form-field",6),o.TgZ(9,"mat-label"),o._uU(10,"Respons\xe1vel"),o.qZA(),o._UZ(11,"input",7),o.qZA(),o.TgZ(12,"mat-form-field",6),o.TgZ(13,"mat-label"),o._uU(14,"N\xba Lan\xe7amento"),o.qZA(),o._UZ(15,"input",8),o.qZA(),o.TgZ(16,"mat-form-field",6),o.TgZ(17,"mat-label"),o._uU(18,"Data"),o.qZA(),o._UZ(19,"input",9),o.qZA(),o.TgZ(20,"div",10),o.YNc(21,ro,6,2,"mat-form-field",11),o.YNc(22,so,4,1,"mat-form-field",11),o.qZA(),o.qZA(),o.TgZ(23,"div",5),o.TgZ(24,"mat-form-field",6),o.TgZ(25,"mat-label"),o._uU(26,"C\xf3digo"),o.qZA(),o._UZ(27,"input",12),o.qZA(),o.TgZ(28,"mat-form-field",6),o.TgZ(29,"mat-label"),o._uU(30,"Novo C\xf3digo"),o.qZA(),o._UZ(31,"input",13),o.qZA(),o.TgZ(32,"mat-form-field",14),o.TgZ(33,"mat-label"),o._uU(34,"Descri\xe7\xe3o"),o.qZA(),o._UZ(35,"input",15),o.qZA(),o.qZA(),o.TgZ(36,"div",10),o.TgZ(37,"mat-form-field",16),o.TgZ(38,"mat-label"),o._uU(39,"Centro De Custo Original"),o.qZA(),o._UZ(40,"input",17),o.qZA(),o.qZA(),o.TgZ(41,"div",10),o.YNc(42,mo,6,2,"mat-form-field",11),o.YNc(43,uo,4,1,"mat-form-field",11),o.qZA(),o.TgZ(44,"div",18),o.YNc(45,ho,6,2,"mat-form-field",11),o.YNc(46,_o,4,1,"mat-form-field",11),o.YNc(47,Zo,6,2,"mat-form-field",11),o.YNc(48,Ao,4,1,"mat-form-field",11),o.qZA(),o.TgZ(49,"div",10),o.TgZ(50,"mat-form-field",6),o.TgZ(51,"mat-label"),o._uU(52,"Observa\xe7\xe3o"),o.qZA(),o._UZ(53,"input",19),o.qZA(),o.qZA(),o.TgZ(54,"div",20),o.TgZ(55,"button",21),o.NdJ("click",function(){return o.CHM(a),o.oxw().closeModal()}),o.TgZ(56,"mat-icon"),o._uU(57,"cancel"),o.qZA(),o.TgZ(58,"span"),o._uU(59),o.qZA(),o.qZA(),o.YNc(60,bo,5,2,"button",22),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const a=o.oxw();o.xp6(4),o.Oqu(a.labelCadastro),o.xp6(2),o.Q6J("formGroup",a.formulario),o.xp6(13),o.Q6J("readonly",!0),o.xp6(2),o.Q6J("ngIf",a.idAcao!=a.getAcoes().Consulta&&a.idAcao!=a.getAcoes().Exclusao&&a.idAcao!=a.getAcoes().Atualizacao),o.xp6(1),o.Q6J("ngIf",a.idAcao==a.getAcoes().Consulta||a.idAcao==a.getAcoes().Exclusao),o.xp6(5),o.Q6J("readonly",!0),o.xp6(4),o.Q6J("readonly",a.readOnly),o.xp6(9),o.Q6J("readonly",!0),o.xp6(2),o.Q6J("ngIf",a.idAcao!=a.getAcoes().Consulta&&a.idAcao!=a.getAcoes().Exclusao&&a.idAcao!=a.getAcoes().Atualizacao),o.xp6(1),o.Q6J("ngIf",a.idAcao==a.getAcoes().Consulta||a.idAcao==a.getAcoes().Exclusao),o.xp6(2),o.Q6J("ngIf",a.idAcao!=a.getAcoes().Consulta&&a.idAcao!=a.getAcoes().Exclusao&&a.idAcao!=a.getAcoes().Atualizacao),o.xp6(1),o.Q6J("ngIf",a.idAcao==a.getAcoes().Consulta||a.idAcao==a.getAcoes().Exclusao),o.xp6(1),o.Q6J("ngIf",a.idAcao!=a.getAcoes().Consulta&&a.idAcao!=a.getAcoes().Exclusao&&a.idAcao!=a.getAcoes().Atualizacao),o.xp6(1),o.Q6J("ngIf",a.idAcao==a.getAcoes().Consulta||a.idAcao==a.getAcoes().Exclusao),o.xp6(5),o.Q6J("readonly",a.readOnly),o.xp6(6),o.Oqu(a.getLabelCancel()),o.xp6(1),o.Q6J("ngIf",3!=a.idAcao)}}let To=(()=>{class e{constructor(a,t,i,l,m,d){this.formBuilder=a,this.dialogRef=t,this.data=i,this.globalService=l,this.appSnackBar=m,this.lancamentoService=d,this.idAcao=0,this.acao="",this.labelCadastro="",this.readOnly=!1,this.gravando=!1,this.focusEntrada=!1,this.focusCancelar=!1,this.situacoes=this.globalService.getSituacoesInventario().filter(U=>U.id>=0),this.lsCondicoes=[],this.respostas=[],this.formulario=a.group({usuario:[{value:""}],nlanc:[{value:""}],data:[{value:""}],situacao:[{value:""}],situacao_:[{value:""}],codigo:[{value:""}],novo_codigo:[{value:""}],descricao:[{value:""}],cc_original:[{value:""}],cc_novo:[{value:""}],cc_novo_:[{value:""}],condicao:[{value:""}],condicao_:[{value:""}],book:[{value:""}],book_:[{value:""}],obs:[{value:""}]});const p=new A.t;p.sigla="S",p.descricao="SIM";const g=new A.t;g.sigla="N",g.descricao="N\xc3O",this.respostas.push(p),this.respostas.push(g),this.lsCondicoes=l.getCondicoes(),this.setValue()}ngOnInit(){this.idAcao=this.data.opcao,this.setAcao(this.idAcao)}ngOnDestroy(){var a;null===(a=this.inscricaoAcao)||void 0===a||a.unsubscribe()}actionFunction(){this.formulario.valid||this.idAcao==s.I.Exclusao?this.executaAcao():(this.formulario.markAllAsTouched(),this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK"))}closeModal(){this.dialogRef.close()}getAcoes(){return s.I}setAcao(a){switch(this.focusEntrada=!1,this.focusCancelar=!1,+a){case s.I.Inclusao:this.acao="Gravar",this.labelCadastro="Inclus\xe3o",this.readOnly=!1,this.focusEntrada=!0;break;case s.I.Edicao:this.acao="Gravar",this.labelCadastro="Altera\xe7\xe3o",this.readOnly=!1,this.focusEntrada=!0;break;case s.I.Consulta:this.acao="Voltar",this.labelCadastro="Consulta",this.readOnly=!0,this.focusCancelar=!0;break;case s.I.Exclusao:this.acao="Excluir",this.labelCadastro="Exclus\xe3o",this.focusEntrada=!1,this.readOnly=!0;break;default:this.acao="",this.labelCadastro=""}}executaAcao(){var a=this;switch(this.data.processar=!0,this.data.lancamento.new_codigo=this.formulario.value.novo_codigo,this.data.lancamento.new_cc=this.formulario.value.cc_novo,this.data.lancamento.obs=this.formulario.value.obs,+this.idAcao){case s.I.Inclusao:this.data.lancamento.user_insert=this.globalService.getUsuario().id,this.inscricaoAcao=this.lancamentoService.lancamentoInsert(this.data.lancamento).subscribe(function(){var t=(0,Z.Z)(function*(i){a.closeModal()});return function(i){return t.apply(this,arguments)}}(),t=>{this.gravando=!1,console.log("Error",t.error),this.appSnackBar.openFailureSnackBar(` Falha Na Inclus\xe3o ${(0,u.bZ)(t)}`,"OK")});break;case s.I.Edicao:this.data.lancamento.user_update=this.globalService.getUsuario().id,this.inscricaoAcao=this.lancamentoService.lancamentoUpdate(this.data.lancamento).subscribe(function(){var t=(0,Z.Z)(function*(i){a.closeModal()});return function(i){return t.apply(this,arguments)}}(),t=>{this.gravando=!1,console.log("Error",t.error),this.appSnackBar.openFailureSnackBar(` ${(0,u.bZ)(t)}`,"OK")});break;case s.I.Exclusao:this.inscricaoAcao=this.lancamentoService.lancamentoDelete(this.data.lancamento.id_empresa,this.data.lancamento.id_filial,this.data.lancamento.id_inventario,this.data.lancamento.id_imobilizado).subscribe(function(){var t=(0,Z.Z)(function*(i){a.closeModal()});return function(i){return t.apply(this,arguments)}}(),t=>{this.gravando=!1,this.appSnackBar.openFailureSnackBar(`Erro Na Exclusao ${(0,u.bZ)(t)}`,"OK")})}}getLabelCancel(){return this.idAcao==s.I.Consulta?"Voltar":"Cancelar"}setValue(){const a=this.data.ccs.findIndex(t=>t.codigo.trim()==this.data.lancamento.imo_cod_cc.trim());this.formulario.setValue({usuario:this.data.lancamento.usu_razao,nlanc:this.data.lancamento.id_lanca,data:this.data.lancamento.dtlanca,situacao:this.data.lancamento.estado,situacao_:this.globalService.getSituacoesInventario()[this.data.lancamento.estado].descricao,codigo:this.data.lancamento.id_imobilizado,novo_codigo:this.data.lancamento.new_codigo,descricao:this.data.lancamento.imo_descricao,cc_original:-1==a?"C.C. N\xc3O CADASTRADO!":this.data.ccs[a].descricao,cc_novo:this.data.lancamento.new_cc,cc_novo_:"TESTE",condicao:this.data.lancamento.condicao,condicao_:this.idAcao==s.I.Consulta||this.idAcao==s.I.Exclusao?this.lsCondicoes[this.data.lancamento.condicao].descricao:"",book:this.data.lancamento.book,book_:this.idAcao==s.I.Consulta||this.idAcao==s.I.Exclusao?this.respostas["S"==this.data.lancamento.book?0:1].descricao:"",obs:this.data.lancamento.obs})}NoValidtouchedOrDirty(a){var t,i,l;return!((null===(t=this.formulario.get(a))||void 0===t?void 0:t.valid)||!(null===(i=this.formulario.get(a))||void 0===i?void 0:i.touched)&&!(null===(l=this.formulario.get(a))||void 0===l?void 0:l.dirty))}getMensafield(a){var t,i;return null===(i=null===(t=this.formulario.get(a))||void 0===t?void 0:t.errors)||void 0===i?void 0:i.message}}return e.\u0275fac=function(a){return new(a||e)(o.Y36(c.qu),o.Y36(h.so),o.Y36(h.WI),o.Y36(T.U),o.Y36(C.W),o.Y36(E.l))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-lanca-dialog"]],decls:1,vars:1,consts:[["class","padrao",4,"ngIf"],[1,"padrao"],[1,"div-barra"],[1,"example-spacer"],["autocomplete","off",3,"formGroup"],[1,"col-med-4"],["appearance","outline",1,"col-max"],["matInput","","formControlName","usuario","readonly","true"],["matInput","","formControlName","nlanc","readonly","true"],["matInput","","formControlName","data",3,"readonly"],[1,"col-med-1"],["field","","appearance","outline","class","col-max",4,"ngIf"],["matInput","","formControlName","codigo",3,"readonly"],["matInput","","formControlName","novo_codigo",3,"readonly"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","descricao","readonly","true"],["field","","appearance","outline",1,"col-max"],["matInput","","formControlName","cc_original",3,"readonly"],[1,"col-med-2"],["matInput","","formControlName","obs","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[1,"button-container-right"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["formControlName","situacao"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],["matInput","","formControlName","situacao_",3,"readonly"],["formControlName","cc_novo"],["matInput","","formControlName","cc_novo_",3,"readonly"],["formControlName","condicao"],["matInput","","formControlName","condicao_",3,"readonly"],["formControlName","book"],["matInput","","formControlName","book_",3,"readonly"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(a,t){1&a&&o.YNc(0,Co,61,17,"div",0),2&a&&o.Q6J("ngIf",99!==t.idAcao)},directives:[f.O5,I.Ye,c._Y,c.JL,c.sg,_.KE,_.hX,S.Nt,c.Fj,c.JJ,c.u,x.lW,q.Hw,O.gD,f.sg,w.ey,_.TO],styles:[".padrao[_ngcontent-%COMP%]{font-size:14px;padding:5px}"]}),e})();var D=r(2653);class Q{constructor(){this.id_empresa=0,this.id_filial=0,this.id_inventario=0,this.id_imobilizado=0,this.id_lanca=0,this.status=0,this.new_codigo=0,this.new_cc="",this.condicao=0,this.book="N",this.user_insert=0,this.user_update=0,this.imo_descricao="",this.imo_cod_cc="",this.imo_cod_grupo=0,this.imo_nfe="",this.imo_serie="",this.imo_item=0,this.imo_origem=0,this.cc_descricao="",this.grupo_descricao="",this.lanc_id_usuario=0,this.lanc_dt_lanca="",this.lanc_obs="",this.lanc_estado=0,this.lanc_condicao=0,this.lanc_book="N",this.usu_razao="",this.new_cc_descricao=""}}var N=r(9243),B=r(8786),Io=r(604),k=r(3430),M=r(2174),j=r(2979),xo=r(5062),R=r(1543);class b{constructor(){this.id_empresa=0,this.id_filial=0,this.id_inventario=0,this.id_imobilizado=0,this.id_usuario=0,this.id_lanca=0,this.obs="",this.dtlanca=(0,u.zp)(new Date),this.estado=0,this.new_codigo=0,this.new_cc="",this.condicao=9,this.book="N",this.user_insert=0,this.user_update=0,this.imo_inv_status=0,this.inv_descricao="",this.imo_cod_cc="",this.imo_cod_grupo=0,this.imo_descricao="",this.usu_razao=""}}class qo{constructor(){this.processar=!1,this.opcao=0,this.lancamento=new b,this.ccs=[]}}class So{constructor(){this.processar=!1,this.opcao=0}}var G=r(7260),No=r(9267),Uo=r(5884),$=r(7466),H=r(2704);function yo(e,n){if(1&e){const a=o.EpF();o.TgZ(0,"button",14),o.NdJ("click",function(){return o.CHM(a),o.oxw().onSubmit()}),o.TgZ(1,"mat-icon"),o._uU(2,"check"),o.qZA(),o._uU(3),o.qZA()}if(2&e){const a=o.oxw();o.xp6(3),o.hij(" ",a.acao," ")}}function Oo(e,n){if(1&e&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&e){const a=o.oxw();o.xp6(1),o.Oqu(a.getMensafield("descricao"))}}function wo(e,n){if(1&e&&(o.TgZ(0,"mat-option",18),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.codigo),o.xp6(1),o.hij(" ",a.descricao," ")}}function Jo(e,n){if(1&e&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&e){const a=o.oxw(2);o.xp6(1),o.Oqu(a.getMensafield("grupo"))}}function Eo(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",15),o.TgZ(1,"mat-label"),o._uU(2,"Grupo"),o.qZA(),o.TgZ(3,"mat-select",16),o.YNc(4,wo,2,2,"mat-option",17),o.qZA(),o.YNc(5,Jo,2,1,"mat-error",11),o.qZA()),2&e){const a=o.oxw();o.xp6(4),o.Q6J("ngForOf",a.grupos),o.xp6(1),o.Q6J("ngIf",a.NoValidtouchedOrDirty("grupo"))}}function Do(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",15),o.TgZ(1,"mat-label"),o._uU(2,"Grupo"),o.qZA(),o._UZ(3,"input",19),o.qZA()),2&e){const a=o.oxw();o.xp6(3),o.Q6J("readonly",a.readOnly)}}function Qo(e,n){if(1&e&&(o.TgZ(0,"mat-option",18),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.codigo),o.xp6(1),o.hij(" ",a.descricao," ")}}function ko(e,n){if(1&e&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&e){const a=o.oxw(2);o.xp6(1),o.Oqu(a.getMensafield("cc"))}}function Po(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",15),o.TgZ(1,"mat-label"),o._uU(2,"Centro De Custo"),o.qZA(),o.TgZ(3,"mat-select",20),o.YNc(4,Qo,2,2,"mat-option",17),o.qZA(),o.YNc(5,ko,2,1,"mat-error",11),o.qZA()),2&e){const a=o.oxw();o.xp6(4),o.Q6J("ngForOf",a.ccs),o.xp6(1),o.Q6J("ngIf",a.NoValidtouchedOrDirty("cc"))}}function Yo(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",15),o.TgZ(1,"mat-label"),o._uU(2,"Centro De Custo"),o.qZA(),o._UZ(3,"input",21),o.qZA()),2&e){const a=o.oxw();o.xp6(3),o.Q6J("readonly",a.readOnly)}}let zo=(()=>{class e{constructor(a,t,i,l,m,d,p,g,U,P){this.formBuilder=a,this.imobilizadoService=t,this.grupoService=i,this.ccService=l,this.route=m,this.router=d,this.appSnackBar=p,this.globalService=g,this.dialogRef=U,this.data=P,this.imobilizado=new G.G,this.ccs=[],this.grupos=[],this.acao="Sem Defini\xe7\xe3o",this.idAcao=s.I.Inclusao,this.readOnly=!0,this.labelCadastro="",this.formulario=a.group({codigo:[{value:""},[c.kI.required,c.kI.min(1)]],descricao:[{value:""},[(0,No.S)(1,80,!0)]],grupo:[{value:""}],grupo_:[{value:""}],cc:[{value:""}],cc_:[{value:""}]})}ngOnInit(){this.imobilizado=new G.G,this.imobilizado.id_empresa=this.globalService.getEmpresa().id,this.imobilizado.id_filial=this.globalService.getLocal().id,this.imobilizado.codigo=0,this.idAcao=s.I.Inclusao,this.setAcao(this.idAcao),this.setValue(),this.getGrupos()}ngOnDestroy(){var a,t,i,l;null===(a=this.inscricaoRota)||void 0===a||a.unsubscribe(),null===(t=this.inscricaoAcao)||void 0===t||t.unsubscribe(),null===(i=this.inscricaoGrupo)||void 0===i||i.unsubscribe(),null===(l=this.inscricaoCC)||void 0===l||l.unsubscribe()}onSubmit(){this.formulario.valid?this.executaAcao():(this.formulario.markAllAsTouched(),this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK"))}onRetorno(){this.dialogRef.close()}onCancel(){this.dialogRef.close()}getImobilizado(){this.globalService.setSpin(!0),this.inscricaoAcao=this.imobilizadoService.getImobilizado(this.imobilizado.id_empresa,this.imobilizado.id_filial,this.imobilizado.codigo).subscribe(a=>{this.globalService.setSpin(!1),this.imobilizado=a,this.setValue()},a=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Imobilizados ${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")})}getGrupos(){let a=new M.t;a.id_empresa=this.globalService.getIdEmpresa(),a.id_filial=this.globalService.getLocal().id,a.orderby="Descri\xe7\xe3o",a.pagina=0,a.contador="N",a.tamPagina=0,this.globalService.setSpin(!0),this.inscricaoGrupo=this.grupoService.getGruposParametro_01(a).subscribe(t=>{this.globalService.setSpin(!1),this.grupos=[],this.grupos=t,this.getCentrosCustos()},t=>{this.globalService.setSpin(!1),console.log(t),this.grupos=[],this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Grupos ${(0,u.bZ)(t)}`,"OK")})}getCentrosCustos(){let a=new j.D;a.id_empresa=this.globalService.getIdEmpresa(),a.id_filial=this.globalService.getLocal().id,a.orderby="Descri\xe7\xe3o",a.pagina=0,a.contador="N",a.tamPagina=0,this.globalService.setSpin(!0),this.inscricaoCC=this.ccService.getCentroscustosParametro_01(a).subscribe(t=>{this.globalService.setSpin(!1),this.ccs=[],this.ccs=t,this.idAcao!==s.I.Inclusao&&(this.idAcao==s.I.Inclusao?(this.imobilizado.id_empresa=this.globalService.getIdEmpresa(),this.imobilizado.id_filial=this.globalService.getLocal().id,this.setValue()):this.getImobilizado())},t=>{this.globalService.setSpin(!1),console.log(t),this.ccs=[],this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Centros De Custos => ${(0,u.bZ)(t)}`,"OK")})}setValue(){this.formulario.setValue({codigo:this.imobilizado.codigo,descricao:this.imobilizado.descricao,grupo:this.imobilizado.cod_grupo,grupo_:this.idAcao==s.I.Consulta||this.idAcao==s.I.Exclusao?this.imobilizado.grupo_descricao:"",cc:this.imobilizado.cod_cc,cc_:this.idAcao==s.I.Consulta||this.idAcao==s.I.Exclusao?this.imobilizado.cc_descricao:""})}getLabelCancel(){return this.idAcao==s.I.Consulta?"Voltar":"Cancelar"}setAcao(a){+a===s.I.Inclusao&&(this.acao="Gravar",this.labelCadastro="Imobilizados - Inclus\xe3o.",this.readOnly=!1)}executaAcao(){var a=this;this.imobilizado.codigo=this.formulario.value.codigo,this.imobilizado.descricao=this.formulario.value.descricao,this.imobilizado.cod_grupo=this.formulario.value.grupo,this.imobilizado.cod_cc=this.formulario.value.cc,+this.idAcao===s.I.Inclusao&&(this.imobilizado.user_insert=this.globalService.getUsuario().id,this.globalService.setSpin(!0),this.inscricaoAcao=this.imobilizadoService.imobilizadoInsertInv(this.imobilizado).subscribe(function(){var t=(0,Z.Z)(function*(i){a.imobilizado.codigo=i.codigo,a.globalService.setSpin(!1),a.onRetorno()});return function(i){return t.apply(this,arguments)}}(),t=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Erro Na INclus\xe3o ${(0,u.bZ)(t)}`,"OK")}))}getAcoes(){return s.I}NoValidtouchedOrDirty(a){var t,i,l;return!((null===(t=this.formulario.get(a))||void 0===t?void 0:t.valid)||!(null===(i=this.formulario.get(a))||void 0===i?void 0:i.touched)&&!(null===(l=this.formulario.get(a))||void 0===l?void 0:l.dirty))}getMensafield(a){var t,i;return null===(i=null===(t=this.formulario.get(a))||void 0===t?void 0:t.errors)||void 0===i?void 0:i.message}}return e.\u0275fac=function(a){return new(a||e)(o.Y36(c.qu),o.Y36(Uo.i),o.Y36($.Z),o.Y36(H.T),o.Y36(v.gz),o.Y36(v.F0),o.Y36(C.W),o.Y36(T.U),o.Y36(h.so),o.Y36(h.WI))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-imobilizado-dialog"]],decls:27,vars:11,consts:[[1,"div-barra"],[1,"example-spacer"],[1,"button-container-right"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["autocomplete","off",3,"formGroup"],[1,"col-med-3"],["appearance","outline",1,"col-max"],["matInput","","formControlName","codigo",3,"readonly"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","descricao","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[4,"ngIf"],[1,"col-med-2"],["field","","appearance","outline","class","col-max column-span-2",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["field","","appearance","outline",1,"col-max","column-span-2"],["formControlName","grupo"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","grupo_",3,"readonly"],["formControlName","cc"],["matInput","","formControlName","cc_",3,"readonly"]],template:function(a,t){1&a&&(o.TgZ(0,"div",0),o.TgZ(1,"mat-toolbar"),o.TgZ(2,"span",1),o.TgZ(3,"mat-label"),o._uU(4),o.qZA(),o.qZA(),o.TgZ(5,"div",2),o.YNc(6,yo,4,1,"button",3),o.TgZ(7,"button",4),o.NdJ("click",function(){return t.onCancel()}),o.TgZ(8,"mat-icon"),o._uU(9,"cancel"),o.qZA(),o._uU(10),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(11,"form",5),o.TgZ(12,"div",6),o.TgZ(13,"mat-form-field",7),o.TgZ(14,"mat-label"),o._uU(15,"C\xf3digo"),o.qZA(),o._UZ(16,"input",8),o.qZA(),o.TgZ(17,"mat-form-field",9),o.TgZ(18,"mat-label"),o._uU(19,"Descri\xe7\xe3o"),o.qZA(),o._UZ(20,"input",10),o.YNc(21,Oo,2,1,"mat-error",11),o.qZA(),o.qZA(),o.TgZ(22,"div",12),o.YNc(23,Eo,6,2,"mat-form-field",13),o.YNc(24,Do,4,1,"mat-form-field",13),o.YNc(25,Po,6,2,"mat-form-field",13),o.YNc(26,Yo,4,1,"mat-form-field",13),o.qZA(),o.qZA()),2&a&&(o.xp6(4),o.Oqu(t.labelCadastro),o.xp6(2),o.Q6J("ngIf",3!=t.idAcao),o.xp6(4),o.hij(" ",t.getLabelCancel()," "),o.xp6(1),o.Q6J("formGroup",t.formulario),o.xp6(5),o.Q6J("readonly",t.idAcao!=t.getAcoes().Inclusao),o.xp6(4),o.Q6J("readonly",t.readOnly),o.xp6(1),o.Q6J("ngIf",t.NoValidtouchedOrDirty("descricao")),o.xp6(2),o.Q6J("ngIf",t.idAcao!=t.getAcoes().Consulta&&t.idAcao!=t.getAcoes().Exclusao&&t.idAcao!=t.getAcoes().Atualizacao),o.xp6(1),o.Q6J("ngIf",t.idAcao==t.getAcoes().Consulta||t.idAcao==t.getAcoes().Exclusao),o.xp6(1),o.Q6J("ngIf",t.idAcao!=t.getAcoes().Consulta&&t.idAcao!=t.getAcoes().Exclusao&&t.idAcao!=t.getAcoes().Atualizacao),o.xp6(1),o.Q6J("ngIf",t.idAcao==t.getAcoes().Consulta||t.idAcao==t.getAcoes().Exclusao))},directives:[I.Ye,_.hX,f.O5,x.lW,q.Hw,c._Y,c.JL,c.sg,_.KE,S.Nt,c.Fj,c.JJ,c.u,_.TO,O.gD,f.sg,w.ey],styles:[""]}),e})();var J=r(7505);class Fo{constructor(){this.processar=!1,this.opcao=0,this.nfe=new J.$}}var K=r(6767);function Vo(e,n){if(1&e&&(o.TgZ(0,"button",28),o.TgZ(1,"mat-icon"),o._uU(2,"check"),o.qZA(),o._uU(3),o.qZA()),2&e){const a=o.oxw();o.xp6(3),o.hij(" ",a.acao," ")}}let Lo=(()=>{class e{constructor(a,t,i,l,m,d,p,g){this.formBuilder=a,this.nfeService=t,this.route=i,this.router=l,this.appSnackBar=m,this.globalService=d,this.dialogRef=p,this.data=g,this.nfe=new J.$,this.acao="Sem Defini\xe7\xe3o",this.idAcao=s.I.Consulta,this.readOnly=!0,this.labelCadastro="",this.formulario=a.group({cnpj_fornecedor:[{value:""}],razao_fornecedor:[{value:""}],id_imobilizado:[{value:""}],imo_descricao:[{value:""}],nfe:[{value:""}],serie:[{value:""}],item:[{value:""}],dtemissao:[{value:""}],dtlancamento:[{value:""}],chavee:[{value:""}],qtd:[{value:""}],punit:[{value:""}],totalitem:[{value:""}],vlrcontabil:[{value:""}],baseicms:[{value:""}],percicms:[{value:""}],vlrcicms:[{value:""}]}),this.nfe=new J.$,this.setAcao(s.I.Consulta)}ngOnInit(){this.nfe=this.data.nfe,this.setValue()}ngOnDestroy(){}actionFunction(){this.closeModal()}closeModal(){this.dialogRef.close()}setValue(){this.formulario.setValue({cnpj_fornecedor:this.nfe.cnpj_fornecedor,razao_fornecedor:this.nfe.razao_fornecedor,id_imobilizado:this.nfe.id_imobilizado,imo_descricao:this.nfe.imo_descricao,nfe:this.nfe.nfe,serie:this.nfe.serie,item:this.nfe.item,dtemissao:this.nfe.dtemissao,dtlancamento:this.nfe.dtlancamento,chavee:this.nfe.chavee,qtd:this.nfe.qtd,punit:this.nfe.punit,totalitem:this.nfe.totalitem,vlrcontabil:this.nfe.vlrcontabil,baseicms:this.nfe.baseicms,percicms:this.nfe.percicms,vlrcicms:this.nfe.vlrcicms})}getLabelCancel(){return this.idAcao==s.I.Consulta?"Voltar":"Cancelar"}setAcao(a){+a===s.I.Consulta&&(this.acao="Voltar",this.labelCadastro="Nfes - Consulta.",this.readOnly=!0)}getAcoes(){return s.I}}return e.\u0275fac=function(a){return new(a||e)(o.Y36(c.qu),o.Y36(K._),o.Y36(v.gz),o.Y36(v.F0),o.Y36(C.W),o.Y36(T.U),o.Y36(h.so),o.Y36(h.WI))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-nfe-dialog"]],decls:86,vars:19,consts:[[1,"example-spacer"],[1,"button-container-right"],["mat-raised-button","","color","primary",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["autocomplete","off",3,"formGroup"],[1,"col-med-3"],["appearance","outline",1,"col-70"],["matInput","","formControlName","id_imobilizado"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","imo_descricao","oninput","this.value = this.value.toUpperCase()","autofocus","",3,"readonly"],["matInput","","formControlName","cnpj_fornecedor",3,"readonly"],["matInput","","formControlName","razao_fornecedor"],[1,"col-med-2"],["appearance","outline",1,"col-max"],["matInput","","formControlName","dtemissao","mask","00/00/0000","placeholder","21/11/1987",3,"readonly"],["matInput","","formControlName","dtlancamento","mask","00/00/0000","placeholder","21/11/1987",3,"readonly"],[1,"col-med-4"],["matInput","","formControlName","nfe",3,"readonly"],["matInput","","formControlName","serie","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","item","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","chavee","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","qtd","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","punit","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","totalitem","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","vlrcontabil","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","baseicms","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","percicms","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","vlrcicms","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["mat-raised-button","","color","primary"]],template:function(a,t){1&a&&(o.TgZ(0,"p"),o.TgZ(1,"mat-toolbar"),o.TgZ(2,"span",0),o.TgZ(3,"mat-label"),o._uU(4),o.qZA(),o.qZA(),o.TgZ(5,"div",1),o.YNc(6,Vo,4,1,"button",2),o.TgZ(7,"button",3),o.NdJ("click",function(){return t.closeModal()}),o.TgZ(8,"mat-icon"),o._uU(9,"cancel"),o.qZA(),o._uU(10),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(11,"form",4),o.TgZ(12,"div",5),o.TgZ(13,"mat-form-field",6),o.TgZ(14,"mat-label"),o._uU(15,"C\xf3d Imobilizado"),o.qZA(),o._UZ(16,"input",7),o.qZA(),o.TgZ(17,"mat-form-field",8),o.TgZ(18,"mat-label"),o._uU(19,"Descri\xe7\xe3o"),o.qZA(),o._UZ(20,"input",9),o.qZA(),o.qZA(),o.TgZ(21,"div",5),o.TgZ(22,"mat-form-field",6),o.TgZ(23,"mat-label"),o._uU(24,"Cnpj Fornecedor"),o.qZA(),o._UZ(25,"input",10),o.qZA(),o.TgZ(26,"mat-form-field",8),o.TgZ(27,"mat-label"),o._uU(28,"Raz\xe3o Fornecedor"),o.qZA(),o._UZ(29,"input",11),o.qZA(),o.qZA(),o.TgZ(30,"div",12),o.TgZ(31,"mat-form-field",13),o.TgZ(32,"mat-label"),o._uU(33,"Data Emiss\xe3o"),o.qZA(),o._UZ(34,"input",14),o.qZA(),o.TgZ(35,"mat-form-field",13),o.TgZ(36,"mat-label"),o._uU(37,"Data Lan\xe7amento"),o.qZA(),o._UZ(38,"input",15),o.qZA(),o.qZA(),o.TgZ(39,"div",16),o.TgZ(40,"mat-form-field",13),o.TgZ(41,"mat-label"),o._uU(42,"Nfe"),o.qZA(),o._UZ(43,"input",17),o.qZA(),o.TgZ(44,"mat-form-field",13),o.TgZ(45,"mat-label"),o._uU(46,"Serie"),o.qZA(),o._UZ(47,"input",18),o.qZA(),o.TgZ(48,"mat-form-field",13),o.TgZ(49,"mat-label"),o._uU(50,"Item"),o.qZA(),o._UZ(51,"input",19),o.qZA(),o.TgZ(52,"mat-form-field",13),o.TgZ(53,"mat-label"),o._uU(54,"Chave Eletr\xf4nica"),o.qZA(),o._UZ(55,"input",20),o.qZA(),o.qZA(),o.TgZ(56,"div",5),o.TgZ(57,"mat-form-field",13),o.TgZ(58,"mat-label"),o._uU(59,"Qtd"),o.qZA(),o._UZ(60,"input",21),o.qZA(),o.TgZ(61,"mat-form-field",13),o.TgZ(62,"mat-label"),o._uU(63,"Pre\xe7o Unit."),o.qZA(),o._UZ(64,"input",22),o.qZA(),o.TgZ(65,"mat-form-field",13),o.TgZ(66,"mat-label"),o._uU(67,"Total Do Item"),o.qZA(),o._UZ(68,"input",23),o.qZA(),o.qZA(),o.TgZ(69,"div",16),o.TgZ(70,"mat-form-field",13),o.TgZ(71,"mat-label"),o._uU(72,"Vlr Contabil"),o.qZA(),o._UZ(73,"input",24),o.qZA(),o.TgZ(74,"mat-form-field",13),o.TgZ(75,"mat-label"),o._uU(76,"Base Icms"),o.qZA(),o._UZ(77,"input",25),o.qZA(),o.TgZ(78,"mat-form-field",13),o.TgZ(79,"mat-label"),o._uU(80,"Perc. Icms"),o.qZA(),o._UZ(81,"input",26),o.qZA(),o.TgZ(82,"mat-form-field",13),o.TgZ(83,"mat-label"),o._uU(84,"Valor Icms Icms"),o.qZA(),o._UZ(85,"input",27),o.qZA(),o.qZA(),o.qZA()),2&a&&(o.xp6(4),o.Oqu(t.labelCadastro),o.xp6(2),o.Q6J("ngIf",3!=t.idAcao),o.xp6(4),o.hij(" ",t.getLabelCancel()," "),o.xp6(1),o.Q6J("formGroup",t.formulario),o.xp6(9),o.Q6J("readonly",t.readOnly),o.xp6(5),o.Q6J("readonly",t.readOnly),o.xp6(9),o.Q6J("readonly",t.readOnly),o.xp6(4),o.Q6J("readonly",t.readOnly),o.xp6(5),o.Q6J("readonly",t.readOnly),o.xp6(4),o.Q6J("readonly",t.readOnly),o.xp6(4),o.Q6J("readonly",t.readOnly),o.xp6(4),o.Q6J("readonly",t.readOnly),o.xp6(5),o.Q6J("readonly",t.readOnly),o.xp6(4),o.Q6J("readonly",t.readOnly),o.xp6(4),o.Q6J("readonly",t.readOnly),o.xp6(5),o.Q6J("readonly",t.readOnly),o.xp6(4),o.Q6J("readonly",t.readOnly),o.xp6(4),o.Q6J("readonly",t.readOnly),o.xp6(4),o.Q6J("readonly",t.readOnly))},directives:[I.Ye,_.hX,f.O5,x.lW,q.Hw,c._Y,c.JL,c.sg,_.KE,S.Nt,c.Fj,c.JJ,c.u],styles:[".padrao[_ngcontent-%COMP%]{font-size:14px;padding:5px}.mat-form-field[_ngcontent-%COMP%]{font-size:12px}"]}),e})();class Bo{constructor(){this.processar=!1,this.opcao=0,this.valor=new y.H}}var Mo=r(3075),jo=r(8495),X=r(4635),Ro=r(6288),Go=r(5626),$o=r(5906);class W{constructor(){this.opcao=s.I.None,this.lancamento=new b}}function Ho(e=!1){return n=>{let a=n.value,t=0;return e||null!=a?(t=parseInt(a),isNaN(t)?{ValidatorCondicao:!0,message:"Condi\xe7\xe3o Inv\xe1lida!"}:9==t?{ValidatorSituacao:!0,message:"Condi\xe7\xe3o Precisa De Uma Avalia\xe7\xe3o!"}:null):null}}function Ko(e=!1){return n=>{let a=n.value;return!e&&null==a||""!=a?null:{ValidatorCC:!0,message:"C.C. Dever\xe1 Existir. Mesmo Que Seja Igual Ao  Original!"}}}function Xo(e,n){if(1&e&&(o.TgZ(0,"mat-option",25),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.id),o.xp6(1),o.hij(" ",a.descricao," ")}}function Wo(e,n){if(1&e&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&e){const a=o.oxw(2);o.xp6(1),o.Oqu(a.getMensafield("situacao"))}}function oa(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",15),o.TgZ(1,"mat-label"),o._uU(2,"Situa\xe7\xe3o"),o.qZA(),o.TgZ(3,"mat-select",22),o.YNc(4,Xo,2,2,"mat-option",23),o.qZA(),o.YNc(5,Wo,2,1,"mat-error",24),o.qZA()),2&e){const a=o.oxw();o.xp6(4),o.Q6J("ngForOf",a.situacoes),o.xp6(1),o.Q6J("ngIf",a.NoValidtouchedOrDirty("situacao"))}}function aa(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",15),o.TgZ(1,"mat-label"),o._uU(2,"Situa\xe7\xe3o"),o.qZA(),o._UZ(3,"input",26),o.qZA()),2&e){const a=o.oxw();o.xp6(3),o.Q6J("readonly",a.readOnly)}}function ta(e,n){if(1&e&&(o.TgZ(0,"mat-option",25),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.codigo),o.xp6(1),o.hij(" ",a.descricao," ")}}function ea(e,n){if(1&e&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&e){const a=o.oxw(2);o.xp6(1),o.Oqu(a.getMensafield("cc_novo"))}}function ia(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",15),o.TgZ(1,"mat-label"),o._uU(2,"Centro De Custo Novo"),o.qZA(),o.TgZ(3,"mat-select",27),o.YNc(4,ta,2,2,"mat-option",23),o.qZA(),o.YNc(5,ea,2,1,"mat-error",24),o.qZA()),2&e){const a=o.oxw();o.xp6(4),o.Q6J("ngForOf",a.ccs_alterados),o.xp6(1),o.Q6J("ngIf",a.NoValidtouchedOrDirty("cc_novo"))}}function na(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",15),o.TgZ(1,"mat-label"),o._uU(2,"Centro De Custo Novo"),o.qZA(),o._UZ(3,"input",28),o.qZA()),2&e){const a=o.oxw();o.xp6(3),o.Q6J("readonly",a.readOnly)}}function ra(e,n){if(1&e&&(o.TgZ(0,"mat-option",25),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.idx),o.xp6(1),o.hij(" ",a.descricao," ")}}function sa(e,n){if(1&e&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&e){const a=o.oxw(2);o.xp6(1),o.Oqu(a.getMensafield("condicao"))}}function la(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",15),o.TgZ(1,"mat-label"),o._uU(2,"Condicao"),o.qZA(),o.TgZ(3,"mat-select",29),o.YNc(4,ra,2,2,"mat-option",23),o.qZA(),o.YNc(5,sa,2,1,"mat-error",24),o.qZA()),2&e){const a=o.oxw();o.xp6(4),o.Q6J("ngForOf",a.lsCondicoes),o.xp6(1),o.Q6J("ngIf",a.NoValidtouchedOrDirty("condicao"))}}function ca(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",15),o.TgZ(1,"mat-label"),o._uU(2,"Condicao"),o.qZA(),o._UZ(3,"input",30),o.qZA()),2&e){const a=o.oxw();o.xp6(3),o.Q6J("readonly",a.readOnly)}}function ma(e,n){if(1&e&&(o.TgZ(0,"mat-option",25),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.sigla),o.xp6(1),o.hij(" ",a.descricao," ")}}function ua(e,n){if(1&e&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&e){const a=o.oxw(2);o.xp6(1),o.Oqu(a.getMensafield("condicao"))}}function da(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",15),o.TgZ(1,"mat-label"),o._uU(2,"Book"),o.qZA(),o.TgZ(3,"mat-select",31),o.YNc(4,ma,2,2,"mat-option",23),o.qZA(),o.YNc(5,ua,2,1,"mat-error",24),o.qZA()),2&e){const a=o.oxw();o.xp6(4),o.Q6J("ngForOf",a.respostas),o.xp6(1),o.Q6J("ngIf",a.NoValidtouchedOrDirty("condicao"))}}function pa(e,n){if(1&e&&(o.TgZ(0,"mat-form-field",15),o.TgZ(1,"mat-label"),o._uU(2,"Book"),o.qZA(),o._UZ(3,"input",32),o.qZA()),2&e){const a=o.oxw();o.xp6(3),o.Q6J("readonly",a.readOnly)}}function ga(e,n){if(1&e){const a=o.EpF();o.TgZ(0,"button",33),o.NdJ("click",function(){return o.CHM(a),o.oxw().onSubmit()}),o.TgZ(1,"mat-icon"),o._uU(2,"check"),o.qZA(),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.qZA()}if(2&e){const a=o.oxw();o.Q6J("disabled",a.gravando),o.xp6(4),o.Oqu(a.acao)}}let ha=(()=>{class e{constructor(a,t,i,l){this.formBuilder=a,this.globalService=t,this.appSnackBar=i,this.lancamentoService=l,this.lancamento=new b,this.ccs=[],this.idAcao=0,this.submmit=new o.vpe,this.acao="",this.labelCadastro="",this.readOnly=!1,this.gravando=!1,this.focusEntrada=!1,this.focusCancelar=!1,this.situacoes=this.globalService.getSituacoesInventario().filter(p=>p.id>=0),this.ccs_alterados=[],this.lsCondicoes=[],this.respostas=[],this.formulario=a.group({usuario:[{value:""}],nlanc:[{value:""}],data:[{value:""}],situacao:[{value:""}],situacao_:[{value:""}],codigo:[{value:""}],novo_codigo:[{value:""},[c.kI.required,c.kI.min(0)]],descricao:[{value:""}],cc_original:[{value:""}],cc_novo:[{value:""},[c.kI.required,Ko()]],cc_novo_:[{value:""}],condicao:[{value:""},[c.kI.required,Ho()]],condicao_:[{value:""}],book:[{value:""}],book_:[{value:""}],obs:[{value:""}]});const m=new A.t;m.sigla="S",m.descricao="SIM";const d=new A.t;d.sigla="N",d.descricao="N\xc3O",this.respostas.push(m),this.respostas.push(d),t.getCondicoes().forEach(p=>{if(p.idx>0){let g=new $o.H(p.idx,p.descricao);this.lsCondicoes.push(g)}})}ngOnInit(){this.ccs_alterados=[...this.ccs],this.ccs_alterados[0].descricao="Centro Custo N\xe3o Alterado!",this.setAcao(this.idAcao),this.setValue()}ngOnDestroy(){var a;null===(a=this.inscricaoAcao)||void 0===a||a.unsubscribe()}onSubmit(){this.formulario.valid||this.idAcao==s.I.Exclusao?this.executaAcao():(this.formulario.markAllAsTouched(),this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK"))}getAcoes(){return s.I}setAcao(a){switch(this.focusEntrada=!1,this.focusCancelar=!1,+a){case s.I.Inclusao:this.acao="Gravar",this.labelCadastro="Inclus\xe3o",this.readOnly=!1,this.focusEntrada=!0;break;case s.I.Edicao:this.acao="Gravar",this.labelCadastro="Altera\xe7\xe3o",this.readOnly=!1,this.focusEntrada=!0;break;case s.I.Consulta:this.acao="Voltar",this.labelCadastro="Consulta",this.readOnly=!0,this.focusCancelar=!0;break;case s.I.Exclusao:this.acao="Excluir",this.labelCadastro="Exclus\xe3o",this.focusEntrada=!1,this.readOnly=!0;break;default:this.acao="",this.labelCadastro=""}}executaAcao(){var a=this;switch(this.lancamento.new_codigo=this.formulario.value.novo_codigo,this.lancamento.new_cc=this.formulario.value.cc_novo,this.lancamento.condicao=this.formulario.value.condicao,this.lancamento.book=this.formulario.value.book,this.lancamento.obs=this.formulario.value.obs,5!==this.formulario.value.situacao?0!=this.lancamento.new_codigo&&this.lancamento.id_imobilizado!=this.lancamento.new_codigo&&""!=this.lancamento.new_cc.trim()&&this.lancamento.imo_cod_cc!=this.lancamento.new_cc?this.lancamento.estado=4:(this.lancamento.estado=1,0!=this.lancamento.new_codigo&&this.lancamento.id_imobilizado!=this.lancamento.new_codigo&&(this.lancamento.estado=2),""!=this.lancamento.new_cc.trim()&&this.lancamento.imo_cod_cc!=this.lancamento.new_cc&&(this.lancamento.estado=3)):this.lancamento.estado=5,+this.idAcao){case s.I.Inclusao:this.globalService.setSpin(!0),this.lancamento.user_insert=this.globalService.getUsuario().id,this.inscricaoAcao=this.lancamentoService.lancamentoInsert(this.lancamento).subscribe(function(){var t=(0,Z.Z)(function*(i){a.globalService.setSpin(!1),a.onRetorno(a.idAcao)});return function(i){return t.apply(this,arguments)}}(),t=>{this.gravando=!1,console.log("Error",t),this.appSnackBar.openFailureSnackBar(` Falha Na Inclus\xe3o ${(0,u.bZ)(t)}`,"OK")});break;case s.I.Edicao:this.lancamento.user_update=this.globalService.getUsuario().id,this.globalService.setSpin(!0),this.inscricaoAcao=this.lancamentoService.lancamentoUpdate(this.lancamento).subscribe(function(){var t=(0,Z.Z)(function*(i){a.globalService.setSpin(!1),a.onRetorno(a.idAcao)});return function(i){return t.apply(this,arguments)}}(),t=>{this.gravando=!1,console.log("Error",t.error),this.appSnackBar.openFailureSnackBar(` ${(0,u.bZ)(t)}`,"OK")});break;case s.I.Exclusao:this.globalService.setSpin(!0),this.inscricaoAcao=this.lancamentoService.lancamentoDelete(this.lancamento.id_empresa,this.lancamento.id_filial,this.lancamento.id_inventario,this.lancamento.id_imobilizado).subscribe(function(){var t=(0,Z.Z)(function*(i){a.globalService.setSpin(!1),a.onRetorno(a.idAcao)});return function(i){return t.apply(this,arguments)}}(),t=>{this.gravando=!1,this.appSnackBar.openFailureSnackBar(`Erro Na Exclusao ${(0,u.bZ)(t)}`,"OK")})}}getLabelCancel(){return this.idAcao==s.I.Consulta?"Voltar":"Cancelar"}setValue(){const a=this.ccs.findIndex(i=>i.codigo.trim()==this.lancamento.imo_cod_cc.trim());let t=this.lsCondicoes.findIndex(i=>i.idx==this.lancamento.condicao);-1==a&&(t=this.lsCondicoes.length-1),this.formulario.setValue({usuario:this.lancamento.usu_razao,nlanc:this.lancamento.id_lanca,data:this.lancamento.dtlanca,situacao:this.lancamento.estado,situacao_:this.globalService.getSituacoesInventario()[this.lancamento.estado].descricao,codigo:this.lancamento.id_imobilizado,novo_codigo:this.lancamento.new_codigo,descricao:this.lancamento.imo_descricao,cc_original:-1==a?"C.C. N\xc3O CADASTRADO!":this.ccs[a].descricao,cc_novo:this.lancamento.new_cc,cc_novo_:"Centro Custo N\xe3o Alterado!",condicao:this.lancamento.condicao,condicao_:this.idAcao==s.I.Consulta||this.idAcao==s.I.Exclusao?this.lsCondicoes[t].descricao:"",book:this.lancamento.book,book_:this.idAcao==s.I.Consulta||this.idAcao==s.I.Exclusao?this.respostas["S"==this.lancamento.book?0:1].descricao:"",obs:this.lancamento.obs})}NoValidtouchedOrDirty(a){var t,i,l;return!((null===(t=this.formulario.get(a))||void 0===t?void 0:t.valid)||!(null===(i=this.formulario.get(a))||void 0===i?void 0:i.touched)&&!(null===(l=this.formulario.get(a))||void 0===l?void 0:l.dirty))}getMensafield(a){var t,i;return null===(i=null===(t=this.formulario.get(a))||void 0===t?void 0:t.errors)||void 0===i?void 0:i.message}onRetorno(a){const t=new W;t.opcao=a,t.lancamento=this.lancamento,this.submmit.emit(t)}onCancelar(){const a=new W;a.opcao=s.I.None,a.lancamento=new b,this.submmit.emit(a)}}return e.\u0275fac=function(a){return new(a||e)(o.Y36(c.qu),o.Y36(T.U),o.Y36(C.W),o.Y36(E.l))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-imoinventario-view"]],inputs:{lancamento:"lancamento",ccs:"ccs",idAcao:"idAcao"},outputs:{submmit:"submmit"},decls:61,vars:17,consts:[[1,"padrao"],[1,"div-barra"],[1,"example-spacer"],["autocomplete","off",3,"formGroup"],[1,"col-med-4"],["appearance","outline",1,"col-max"],["matInput","","formControlName","usuario","readonly","true"],["matInput","","formControlName","nlanc","readonly","true"],["matInput","","formControlName","data",3,"readonly"],[1,"col-med-1"],["field","","appearance","outline","class","col-max",4,"ngIf"],["matInput","","formControlName","codigo",3,"readonly"],["matInput","","formControlName","novo_codigo",3,"readonly"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","descricao","readonly","true"],["field","","appearance","outline",1,"col-max"],["matInput","","formControlName","cc_original",3,"readonly"],[1,"col-med-2"],["matInput","","formControlName","obs","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[1,"button-container-right"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["formControlName","situacao"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],["matInput","","formControlName","situacao_",3,"readonly"],["formControlName","cc_novo"],["matInput","","formControlName","cc_novo_",3,"readonly"],["formControlName","condicao"],["matInput","","formControlName","condicao_",3,"readonly"],["formControlName","book"],["matInput","","formControlName","book_",3,"readonly"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(a,t){1&a&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"mat-toolbar"),o.TgZ(3,"span",2),o._uU(4),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5,"div",0),o.TgZ(6,"form",3),o.TgZ(7,"div",4),o.TgZ(8,"mat-form-field",5),o.TgZ(9,"mat-label"),o._uU(10,"Respons\xe1vel"),o.qZA(),o._UZ(11,"input",6),o.qZA(),o.TgZ(12,"mat-form-field",5),o.TgZ(13,"mat-label"),o._uU(14,"N\xba Lan\xe7amento"),o.qZA(),o._UZ(15,"input",7),o.qZA(),o.TgZ(16,"mat-form-field",5),o.TgZ(17,"mat-label"),o._uU(18,"Data"),o.qZA(),o._UZ(19,"input",8),o.qZA(),o.TgZ(20,"div",9),o.YNc(21,oa,6,2,"mat-form-field",10),o.YNc(22,aa,4,1,"mat-form-field",10),o.qZA(),o.qZA(),o.TgZ(23,"div",4),o.TgZ(24,"mat-form-field",5),o.TgZ(25,"mat-label"),o._uU(26,"C\xf3digo"),o.qZA(),o._UZ(27,"input",11),o.qZA(),o.TgZ(28,"mat-form-field",5),o.TgZ(29,"mat-label"),o._uU(30,"Novo C\xf3digo"),o.qZA(),o._UZ(31,"input",12),o.qZA(),o.TgZ(32,"mat-form-field",13),o.TgZ(33,"mat-label"),o._uU(34,"Descri\xe7\xe3o"),o.qZA(),o._UZ(35,"input",14),o.qZA(),o.qZA(),o.TgZ(36,"div",9),o.TgZ(37,"mat-form-field",15),o.TgZ(38,"mat-label"),o._uU(39,"Centro De Custo Original"),o.qZA(),o._UZ(40,"input",16),o.qZA(),o.qZA(),o.TgZ(41,"div",9),o.YNc(42,ia,6,2,"mat-form-field",10),o.YNc(43,na,4,1,"mat-form-field",10),o.qZA(),o.TgZ(44,"div",17),o.YNc(45,la,6,2,"mat-form-field",10),o.YNc(46,ca,4,1,"mat-form-field",10),o.YNc(47,da,6,2,"mat-form-field",10),o.YNc(48,pa,4,1,"mat-form-field",10),o.qZA(),o.TgZ(49,"div",9),o.TgZ(50,"mat-form-field",5),o.TgZ(51,"mat-label"),o._uU(52,"Observa\xe7\xe3o"),o.qZA(),o._UZ(53,"input",18),o.qZA(),o.qZA(),o.TgZ(54,"div",19),o.TgZ(55,"button",20),o.NdJ("click",function(){return t.onCancelar()}),o.TgZ(56,"mat-icon"),o._uU(57,"cancel"),o.qZA(),o.TgZ(58,"span"),o._uU(59),o.qZA(),o.qZA(),o.YNc(60,ga,5,2,"button",21),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&a&&(o.xp6(4),o.Oqu(t.labelCadastro),o.xp6(2),o.Q6J("formGroup",t.formulario),o.xp6(13),o.Q6J("readonly",!0),o.xp6(2),o.Q6J("ngIf",t.idAcao!=t.getAcoes().Consulta&&t.idAcao!=t.getAcoes().Exclusao&&t.idAcao!=t.getAcoes().Atualizacao),o.xp6(1),o.Q6J("ngIf",t.idAcao==t.getAcoes().Consulta||t.idAcao==t.getAcoes().Exclusao),o.xp6(5),o.Q6J("readonly",!0),o.xp6(4),o.Q6J("readonly",t.readOnly),o.xp6(9),o.Q6J("readonly",!0),o.xp6(2),o.Q6J("ngIf",t.idAcao!=t.getAcoes().Consulta&&t.idAcao!=t.getAcoes().Exclusao&&t.idAcao!=t.getAcoes().Atualizacao),o.xp6(1),o.Q6J("ngIf",t.idAcao==t.getAcoes().Consulta||t.idAcao==t.getAcoes().Exclusao),o.xp6(2),o.Q6J("ngIf",t.idAcao!=t.getAcoes().Consulta&&t.idAcao!=t.getAcoes().Exclusao&&t.idAcao!=t.getAcoes().Atualizacao),o.xp6(1),o.Q6J("ngIf",t.idAcao==t.getAcoes().Consulta||t.idAcao==t.getAcoes().Exclusao),o.xp6(1),o.Q6J("ngIf",t.idAcao!=t.getAcoes().Consulta&&t.idAcao!=t.getAcoes().Exclusao&&t.idAcao!=t.getAcoes().Atualizacao),o.xp6(1),o.Q6J("ngIf",t.idAcao==t.getAcoes().Consulta||t.idAcao==t.getAcoes().Exclusao),o.xp6(5),o.Q6J("readonly",t.readOnly),o.xp6(6),o.Oqu(t.getLabelCancel()),o.xp6(1),o.Q6J("ngIf",3!=t.idAcao))},directives:[I.Ye,c._Y,c.JL,c.sg,_.KE,_.hX,S.Nt,c.Fj,c.JJ,c.u,f.O5,x.lW,q.Hw,O.gD,f.sg,w.ey,_.TO],styles:[""]}),e})();var _a=r(3968),fa=r(1436),va=r(7234),Za=r(34),Aa=r(9334),ba=r(6348),Ca=r(381),Ta=r(980);function Ia(e,n){if(1&e){const a=o.EpF();o.TgZ(0,"app-imoinventario-view",5),o.NdJ("submmit",function(i){return o.CHM(a),o.oxw().onProcessar(i)}),o.qZA()}if(2&e){const a=o.oxw();o.Q6J("lancamento",a.lancamento)("ccs",a.ccs)("idAcao",a.idAcao)}}function xa(e,n){if(1&e){const a=o.EpF();o.TgZ(0,"div",6),o.TgZ(1,"mat-toolbar"),o.TgZ(2,"span",7),o._uU(3),o.qZA(),o.TgZ(4,"app-navegator",8),o.NdJ("changePage",function(){return o.CHM(a),o.oxw().onChangePage()}),o.qZA(),o.TgZ(5,"button",9),o.NdJ("click",function(){return o.CHM(a),o.oxw().getImoIvenContador()}),o.TgZ(6,"mat-icon"),o._uU(7,"rotate_right"),o.qZA(),o.qZA(),o.TgZ(8,"button",10),o.NdJ("click",function(){return o.CHM(a),o.oxw().onSaveConfig()}),o.TgZ(9,"mat-icon"),o._uU(10,"brightness_high"),o.qZA(),o.qZA(),o.TgZ(11,"button",11),o.NdJ("click",function(){return o.CHM(a),o.oxw().onHome()}),o.TgZ(12,"mat-icon"),o._uU(13,"home"),o.qZA(),o.qZA(),o.TgZ(14,"button",12),o.NdJ("click",function(){return o.CHM(a),o.oxw().onFiltro()}),o._uU(15),o.qZA(),o.qZA(),o.qZA()}if(2&e){const a=o.oxw();o.xp6(3),o.hij("Invent\xe1rio: ",a.inventario.descricao,""),o.xp6(1),o.Q6J("controle",a.controlePaginas),o.xp6(11),o.Oqu(a.getLabelFiltro())}}function qa(e,n){if(1&e&&(o.TgZ(0,"mat-option",31),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.codigo),o.xp6(1),o.hij(" ",a.descricao," ")}}function Sa(e,n){if(1&e&&(o.TgZ(0,"mat-option",31),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.codigo),o.xp6(1),o.hij(" ",a.descricao," ")}}function Na(e,n){if(1&e&&(o.TgZ(0,"mat-option",31),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.codigo),o.xp6(1),o.hij(" ",a.descricao," ")}}function Ua(e,n){if(1&e&&(o.TgZ(0,"mat-option",31),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.id),o.xp6(1),o.hij(" ",a.descricao," ")}}function ya(e,n){if(1&e&&(o.TgZ(0,"mat-option",31),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.sigla),o.xp6(1),o.hij(" ",a.descricao," ")}}function Oa(e,n){if(1&e&&(o.TgZ(0,"mat-option",31),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.id_usuario),o.xp6(1),o.hij(" ",a.razao," ")}}function wa(e,n){if(1&e&&(o.TgZ(0,"mat-option",31),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.idx),o.xp6(1),o.hij(" ",a.descricao," ")}}function Ja(e,n){if(1&e&&(o.TgZ(0,"mat-option",31),o._uU(1),o.qZA()),2&e){const a=n.$implicit;o.Q6J("value",a.sigla),o.xp6(1),o.hij(" ",a.descricao," ")}}function Ea(e,n){if(1&e){const a=o.EpF();o.TgZ(0,"form",13),o.TgZ(1,"div",14),o.TgZ(2,"mat-form-field",15),o.TgZ(3,"mat-label"),o._uU(4,"Centro Custo"),o.qZA(),o.TgZ(5,"mat-select",16),o.NdJ("selectionChange",function(){return o.CHM(a),o.oxw().onChangeParametros()}),o.YNc(6,qa,2,2,"mat-option",17),o.qZA(),o.qZA(),o.TgZ(7,"mat-form-field",15),o.TgZ(8,"mat-label"),o._uU(9,"Novo Centro Custo"),o.qZA(),o.TgZ(10,"mat-select",18),o.NdJ("selectionChange",function(){return o.CHM(a),o.oxw().onChangeParametros()}),o.YNc(11,Sa,2,2,"mat-option",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(12,"div",14),o.TgZ(13,"mat-form-field",15),o.TgZ(14,"mat-label"),o._uU(15,"Grupos"),o.qZA(),o.TgZ(16,"mat-select",19),o.NdJ("selectionChange",function(){return o.CHM(a),o.oxw().onChangeParametros()}),o.YNc(17,Na,2,2,"mat-option",17),o.qZA(),o.qZA(),o.TgZ(18,"mat-form-field",15),o.TgZ(19,"mat-label"),o._uU(20,"Situa\xe7\xf5es"),o.qZA(),o.TgZ(21,"mat-select",20),o.NdJ("selectionChange",function(){return o.CHM(a),o.oxw().onChangeParametros()}),o.YNc(22,Ua,2,2,"mat-option",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(23,"div",14),o.TgZ(24,"mat-form-field",15),o.TgZ(25,"mat-label"),o._uU(26,"Origem"),o.qZA(),o.TgZ(27,"mat-select",21),o.NdJ("selectionChange",function(){return o.CHM(a),o.oxw().onChangeParametros()}),o.YNc(28,ya,2,2,"mat-option",17),o.qZA(),o.qZA(),o.TgZ(29,"mat-form-field",15),o.TgZ(30,"mat-label"),o._uU(31,"Executores"),o.qZA(),o.TgZ(32,"mat-select",22),o.NdJ("selectionChange",function(){return o.CHM(a),o.oxw().onChangeParametros()}),o.YNc(33,Oa,2,2,"mat-option",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(34,"div",23),o.TgZ(35,"mat-form-field",24),o.TgZ(36,"mat-label"),o._uU(37,"C\xf3digo"),o.qZA(),o._UZ(38,"input",25),o.qZA(),o.TgZ(39,"mat-form-field",24),o.TgZ(40,"mat-label"),o._uU(41,"Novo"),o.qZA(),o._UZ(42,"input",26),o.qZA(),o.TgZ(43,"mat-form-field",15),o.TgZ(44,"mat-label"),o._uU(45,"Condi\xe7\xe3o"),o.qZA(),o.TgZ(46,"mat-select",27),o.NdJ("selectionChange",function(){return o.CHM(a),o.oxw().onChangeParametros()}),o.YNc(47,wa,2,2,"mat-option",17),o.qZA(),o.qZA(),o.TgZ(48,"mat-form-field",15),o.TgZ(49,"mat-label"),o._uU(50,"Book"),o.qZA(),o.TgZ(51,"mat-select",28),o.NdJ("selectionChange",function(){return o.CHM(a),o.oxw().onChangeParametros()}),o.YNc(52,Ja,2,2,"mat-option",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(53,"div",29),o.TgZ(54,"mat-form-field",24),o.TgZ(55,"mat-label"),o._uU(56,"Descri\xe7\xe3o"),o.qZA(),o._UZ(57,"input",30),o.qZA(),o.qZA(),o.qZA()}if(2&e){const a=o.oxw();o.Q6J("formGroup",a.parametros),o.xp6(6),o.Q6J("ngForOf",a.ccs),o.xp6(5),o.Q6J("ngForOf",a.ccs_alterados),o.xp6(6),o.Q6J("ngForOf",a.grupos),o.xp6(5),o.Q6J("ngForOf",a.situacoesInventarioPar),o.xp6(6),o.Q6J("ngForOf",a.Origens),o.xp6(5),o.Q6J("ngForOf",a.executores),o.xp6(14),o.Q6J("ngForOf",a.condicoes),o.xp6(5),o.Q6J("ngForOf",a.respostas)}}function Da(e,n){if(1&e){const a=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o.TgZ(2,"div"),o.TgZ(3,"mat-label",36),o._uU(4),o.qZA(),o.qZA(),o.TgZ(5,"div"),o.TgZ(6,"mat-label",36),o._uU(7),o.ALo(8,"origem"),o.qZA(),o.qZA(),o.TgZ(9,"div"),o.TgZ(10,"mat-label",36),o._uU(11),o.ALo(12,"situacao"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"td"),o.TgZ(14,"div"),o.TgZ(15,"mat-label",36),o._uU(16),o.qZA(),o.qZA(),o.TgZ(17,"div"),o.TgZ(18,"mat-label",36),o._uU(19),o.ALo(20,"embrancopipe"),o.qZA(),o.qZA(),o.TgZ(21,"div"),o.TgZ(22,"mat-label",36),o._uU(23),o.qZA(),o.qZA(),o.qZA(),o.TgZ(24,"td"),o.TgZ(25,"div"),o.TgZ(26,"mat-label",36),o._uU(27),o.ALo(28,"zerotospacepipe"),o.qZA(),o.qZA(),o.TgZ(29,"div"),o.TgZ(30,"mat-label",37),o._uU(31),o.qZA(),o.qZA(),o.qZA(),o.TgZ(32,"td"),o.TgZ(33,"div"),o.TgZ(34,"mat-label",36),o._uU(35),o.ALo(36,"zerotospacepipe"),o.qZA(),o.qZA(),o.TgZ(37,"div"),o.TgZ(38,"mat-label",36),o._uU(39),o.ALo(40,"firstName"),o.qZA(),o.qZA(),o.TgZ(41,"div"),o.TgZ(42,"mat-label",36),o._uU(43),o.qZA(),o.qZA(),o.qZA(),o.TgZ(44,"td"),o.TgZ(45,"div"),o.TgZ(46,"mat-label",36),o._uU(47),o.qZA(),o.qZA(),o.qZA(),o.TgZ(48,"td",38),o.TgZ(49,"barra-acoes",39),o.NdJ("changeOpcao",function(i){const m=o.CHM(a).$implicit;return o.oxw(2).escolha(i,m)}),o.qZA(),o.qZA(),o.qZA()}if(2&e){const a=n.$implicit;o.xp6(4),o.Oqu(a.id_imobilizado),o.xp6(3),o.Oqu(o.lcZ(8,21,a.imo_origem)),o.xp6(4),o.Oqu(o.lcZ(12,23,a.status)),o.xp6(5),o.Oqu(a.imo_descricao),o.xp6(3),o.Oqu(o.lcZ(20,25,a.cc_descricao)),o.xp6(4),o.Oqu(a.grupo_descricao),o.xp6(4),o.hij("C\xf3d:",o.lcZ(28,27,a.new_codigo),""),o.xp6(3),o.Q6J("matTooltip",a.new_cc_descricao),o.xp6(1),o.hij(" C.C.:",a.new_cc," "),o.xp6(4),o.hij("Lan\xe7:",o.lcZ(36,29,a.id_lanca),""),o.xp6(4),o.hij("Resp:",o.lcZ(40,31,a.usu_razao),""),o.xp6(4),o.hij("Data:",a.lanc_dt_lanca,""),o.xp6(4),o.AsE("",a.imo_nfe,"-",a.imo_serie,""),o.xp6(2),o.Q6J("EXCLUIR",a.id_lanca>0)("CONSULTAR",a.id_lanca>0)("BARRA_VERTICAL",!0)("BARRA_NFE",""!==a.imo_nfe)("BARRA_VALORES",!0)("BARRA_EXCLUIR",!1)("BARRA_ATIVIDADES",!1)}}function Qa(e,n){if(1&e&&(o.TgZ(0,"cdk-virtual-scroll-viewport",32),o.TgZ(1,"table",33),o.TgZ(2,"tr",34),o.TgZ(3,"th"),o._uU(4,"C\xf3d Imobil."),o.qZA(),o.TgZ(5,"th"),o._uU(6,"Descri\xe7\xe3o/CC"),o.qZA(),o.TgZ(7,"th"),o._uU(8,"Novos"),o.qZA(),o.TgZ(9,"th"),o._uU(10,"Lan\xe7amento"),o.qZA(),o.TgZ(11,"th"),o._uU(12,"NFE & Serie"),o.qZA(),o.TgZ(13,"th"),o._uU(14,"A\xc7\xd5ES"),o.qZA(),o.qZA(),o.YNc(15,Da,50,33,"tr",35),o.qZA(),o.qZA()),2&e){const a=o.oxw();o.Q6J("itemSize",50),o.xp6(15),o.Q6J("cdkVirtualForOf",a.imoinv)}}let oo=(()=>{class e{constructor(a,t,i,l,m,d,p,g,U,P,La,Ba,Ma,ja,Ra,Ga){this.formBuilder=a,this.globalService=t,this.imoInventarioService=i,this.parametrosService=l,this.grupoService=m,this.centrocustoService=d,this.lancamentoService=p,this.nfeService=g,this.valorService=U,this.router=P,this.appSnackBar=La,this.route=Ba,this.ngZone=Ma,this.LancaDialog=ja,this.NfeDialog=Ra,this.valorDialog=Ga,this.imoinv=[],this.atual=new Q,this.grupos=[],this.ccs=[],this.ccs_alterados=[],this.condicoes=[],this.respostas=[],this.erro="",this.tamPagina=50,this.controlePaginas=new k.e(this.tamPagina,this.tamPagina),this.retorno=!1,this.parametro=new D.M,this.situacoesInventario=[],this.situacoesInventarioPar=[],this.Origens=[],this.usuarios=[],this.lancamento=new b,this.nfe=new J.$,this.valor=new y.H,this.inventario=new ao.q,this.browse=!0,this.idAcao=s.I.Consulta,this.showFiltro=!0,this.executores=[],this.parametros=a.group({ccs:[{value:""}],cc_novo:[{value:""}],grupos:[{value:""}],situacoes:[{value:""}],origem:[{value:""}],executor:[{value:""}],codigo:[{value:""}],novo:[{value:""}],condicao:[{value:""}],book:[{value:""}],descricao:[{value:""}]}),this.situacoesInventario=this.globalService.getSituacoesInventario(),this.situacoesInventarioPar=this.globalService.getSituacoesInventarioPar(),this.condicoes=this.globalService.getCondicoes();const Y=new A.t;Y.sigla="",Y.descricao="Todos";const z=new A.t;z.sigla="S",z.descricao="SIM";const F=new A.t;F.sigla="N",F.descricao="N\xc3O",this.respostas.push(Y),this.respostas.push(z),this.respostas.push(F),this.Origens.push(new Mo.x("","Todas")),this.Origens=[...this.Origens,...this.globalService.getOrigens()],this.getExecutores(),this.setValuesNoParam(),this.getCentroCustos()}ngOnInit(){this.inventario=this.globalService.getInventario()}ngOnDestroy(){var a,t,i,l,m,d,p,g;null===(a=this.inscricaoGetAll)||void 0===a||a.unsubscribe(),null===(t=this.inscricaoGetGrupo)||void 0===t||t.unsubscribe(),null===(i=this.inscricaoGetCc)||void 0===i||i.unsubscribe(),null===(l=this.inscricaoGetLancamento)||void 0===l||l.unsubscribe(),null===(m=this.inscricaoRota)||void 0===m||m.unsubscribe(),null===(d=this.inscricaoParametro)||void 0===d||d.unsubscribe(),null===(p=this.inscricaoNfe)||void 0===p||p.unsubscribe(),null===(g=this.inscricaoValores)||void 0===g||g.unsubscribe(),this.inscricaoExecutores.unsubscribe()}getNfe(a){this.globalService.setSpin(!0),this.inscricaoNfe=this.nfeService.getNfeByImobilizado(a.id_empresa,a.id_filial,a.id_imobilizado,a.imo_nfe,a.imo_serie,a.imo_item).subscribe(t=>{this.globalService.setSpin(!1),t.length>0&&(this.nfe=t[0],this.openNfeDialog())},t=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Pesquisa Nas Nfes ${(0,u.bZ)(t)}`,"OK")})}getValor(a){this.globalService.setSpin(!0),this.inscricaoValores=this.valorService.getValor(a.id_empresa,a.id_filial,a.id_imobilizado).subscribe(t=>{this.globalService.setSpin(!1),this.valor=t,this.openValoresDialog()},t=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Valores ${(0,u.bZ)(t)}`,"OK")})}getExecutores(){let a=new jo.G;a.id_empresa=this.globalService.getEmpresa().id,a.id_filial=this.globalService.getLocal().id,a.id_inventario=this.globalService.getInventario().codigo,this.globalService.setSpin(!0),this.inscricaoExecutores=this.lancamentoService.resumolancamentos(a).subscribe(t=>{this.globalService.setSpin(!1);const i=new X.S;i.id_usuario=0,i.razao="Todos",this.executores.push(i),this.executores=[...this.executores,...t]},t=>{this.globalService.setSpin(!1);const i=new X.S;i.id_usuario=0,i.razao="Todos",this.executores.push(i)})}getCentroCustos(){let a=new j.D;a.id_empresa=this.globalService.getIdEmpresa(),a.id_filial=this.globalService.getLocal().id,a.orderby="Descri\xe7\xe3o",this.globalService.setSpin(!0),this.inscricaoGetCc=this.centrocustoService.getCentroscustosParametro_01(a).subscribe(t=>{this.globalService.setSpin(!1);const i=new B.P;i.codigo="",i.descricao="Todos",this.ccs=[],this.ccs_alterados=[],this.ccs.push(i);const l=new B.P;l.codigo="",l.descricao="Todos N\xe3o Alterados",this.ccs_alterados.push(l),t.forEach(m=>{var d=m.descricao.indexOf("-");d>=0&&(m.descricao=m.descricao.trim().substring(d+1)+" -> "+m.descricao.trim())}),t.sort((m,d)=>m.descricao<d.descricao?-1:m.descricao>d.descricao?1:0),this.ccs=[...this.ccs,...t],this.ccs_alterados=[...this.ccs_alterados,...t],this.getGrupos()},t=>{this.globalService.setSpin(!1),this.ccs=[],this.ccs_alterados=[],this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Grupos ${(0,u.bZ)(t)}`,"OK")})}getGrupos(){let a=new M.t;a.id_empresa=this.globalService.getIdEmpresa(),a.id_filial=this.globalService.getLocal().id,a.orderby="Grupo",this.globalService.setSpin(!0),this.inscricaoGetGrupo=this.grupoService.getGruposParametro_01(a).subscribe(t=>{this.globalService.setSpin(!1);const i=new Io.b;i.codigo=0,i.descricao="Todos",this.grupos=[],this.grupos.push(i),this.grupos=[...this.grupos,...t],this.loadParametros()},t=>{this.globalService.setSpin(!1),this.grupos=[],this.setValues(),this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Grupos ${(0,u.bZ)(t)}`,"OK")})}getImoIven(){let a=new R.E;a.id_empresa=this.globalService.getIdEmpresa(),a.id_filial=this.globalService.getLocal().id,a.id_inventario=this.globalService.getInventario().codigo,""!==this.parametros.value.cc&&(a.id_cc=this.parametros.value.ccs),""!==this.parametros.value.cc_novo&&(a.new_cc=this.parametros.value.cc_novo);let t=parseInt(this.parametros.value.grupos,10);a.id_grupo=isNaN(t)?0:t,t=parseInt(this.parametros.value.situacoes,10),a.status=isNaN(t)?0:t,t=parseInt(this.parametros.value.codigo,10),a.id_imobilizado=isNaN(t)?0:t,t=parseInt(this.parametros.value.novo,10),a.new_codigo=isNaN(t)?0:t,t=parseInt(this.parametros.value.condicao,10),a.condicao=isNaN(t)?0:t,""!==this.parametros.value.book.trim()&&(a.book=this.parametros.value.book),""!==this.parametros.value.descricao.trim()&&(a.descricao=this.parametros.value.descricao),t=parseInt(this.parametros.value.executor,10),a.id_usuario=isNaN(t)?0:t,""!==this.parametros.value.origem.trim()&&(a.origem=this.parametros.value.origem),a.contador="N",a.tamPagina=this.tamPagina,a.pagina=this.controlePaginas.getPaginalAtual(),a.orderby="Imobilizado",this.globalService.setSpin(!0),this.inscricaoGetAll=this.imoInventarioService.getImobilizadosinventariosParametro_01(a).subscribe(i=>{if(this.globalService.setSpin(!1),this.imoinv=i,0!==this.atual.id_imobilizado){const m=this.imoinv.findIndex(d=>d.id_imobilizado==this.atual.id_imobilizado);setTimeout(()=>this.viewPort.scrollToIndex(m),10)}this.retorno=!1,this.atual=new Q;let l=this.parametro.getParametro();Object(l).id_retorno=0,Object(l).new=!1,this.parametro.parametro=JSON.stringify(l)},i=>{this.globalService.setSpin(!1),this.imoinv=[],this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Produtos De Invent\xe1rio ${(0,u.bZ)(i)}`,"OK")})}getImoIvenContador(){let a=new R.E;a.id_empresa=this.globalService.getIdEmpresa(),a.id_filial=this.globalService.getLocal().id,a.id_inventario=this.globalService.getInventario().codigo,""!==this.parametros.value.cc&&(a.id_cc=this.parametros.value.ccs),""!==this.parametros.value.cc_novo&&(a.new_cc=this.parametros.value.cc_novo);let t=parseInt(this.parametros.value.grupos,10);a.id_grupo=isNaN(t)?0:t,t=parseInt(this.parametros.value.situacoes,10),a.status=isNaN(t)?0:t,t=parseInt(this.parametros.value.codigo,10),a.id_imobilizado=isNaN(t)?0:t,t=parseInt(this.parametros.value.novo,10),a.new_codigo=isNaN(t)?0:t,t=parseInt(this.parametros.value.condicao,10),a.condicao=isNaN(t)?0:t,""!==this.parametros.value.book.trim()&&(a.book=this.parametros.value.book),""!==this.parametros.value.descricao.trim()&&(a.descricao=this.parametros.value.descricao),""!==this.parametros.value.descricao.trim()&&(a.descricao=this.parametros.value.descricao),t=parseInt(this.parametros.value.executor,10),a.id_usuario=isNaN(t)?0:t,""!==this.parametros.value.origem.trim()&&(a.origem=this.parametros.value.origem),a.contador="S",a.tamPagina=this.tamPagina,a.orderby="Imobilizado",this.globalService.setSpin(!0),this.inscricaoGetAll=this.imoInventarioService.getImobilizadosinventariosParametro_01(a).subscribe(i=>{if(this.globalService.setSpin(!1),this.controlePaginas=new k.e(this.tamPagina,0==i.total?1:i.total),this.retorno)if((0,u.xc)(this.parametro.getParametro(),"new"))this.controlePaginas.goLast();else{let l=this.parametro.getParametro();this.controlePaginas.setPaginaAtual(Object(l).page)}this.getImoIven()},i=>{this.globalService.setSpin(!1),this.imoinv=[],this.controlePaginas=new k.e(this.tamPagina,1),this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Produtos De Invent\xe1rio ${(0,u.bZ)(i)}`,"OK")})}getLancamento(a,t){this.globalService.setSpin(!0),this.inscricaoGetLancamento=this.lancamentoService.getLancamento(t.id_empresa,t.id_filial,t.id_inventario,t.id_imobilizado).subscribe(i=>{this.globalService.setSpin(!1),this.lancamento=i,this.idAcao=a,this.browse=!1},i=>{this.globalService.setSpin(!1),this.lancamento=new b,this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Lan\xe7amentos ${(0,u.bZ)(i)}`,"OK")})}setValues(){this.parametros.setValue({ccs:(0,u.SL)(this.parametro.getParametro(),"cc"),cc_novo:(0,u.SL)(this.parametro.getParametro(),"cc_novo"),grupos:(0,u.P0)(this.parametro.getParametro(),"grupo"),situacoes:(0,u.SL)(this.parametro.getParametro(),"situacao"),codigo:(0,u.P0)(this.parametro.getParametro(),"codigo"),novo:(0,u.P0)(this.parametro.getParametro(),"novo"),origem:(0,u.SL)(this.parametro.getParametro(),"origem"),executor:(0,u.P0)(this.parametro.getParametro(),"executor"),condicao:(0,u.P0)(this.parametro.getParametro(),"condicao"),book:(0,u.SL)(this.parametro.getParametro(),"book"),descricao:(0,u.SL)(this.parametro.getParametro(),"descricao")})}setValuesNoParam(){this.parametros.setValue({ccs:"",cc_novo:"",grupos:0,situacoes:-1,codigo:"",novo:"",origem:"",executor:0,condicao:"0",book:"",descricao:""})}getTexto(){return u.fd}escolha(a,t){95!=a?94!=a?(this.atual=t,0==t.id_lanca?(this.lancamento=new b,this.lancamento.id_empresa=t.id_empresa,this.lancamento.id_filial=t.id_filial,this.lancamento.id_imobilizado=t.id_imobilizado,this.lancamento.id_inventario=t.id_inventario,this.lancamento.imo_cod_cc=t.imo_cod_cc,this.lancamento.imo_cod_grupo=t.imo_cod_grupo,this.lancamento.condicao=t.condicao,this.lancamento.book=t.book,this.lancamento.id_usuario=this.globalService.getUsuario().id,this.lancamento.usu_razao=this.globalService.getUsuario().razao,this.lancamento.imo_descricao=t.imo_descricao,this.lancamento.estado=t.status,this.idAcao=s.I.Inclusao,this.browse=!1):this.getLancamento(a,t)):this.getValor(t):this.getNfe(t)}onChangePage(){this.getImoIven()}onChangeParametros(){this.getImoIvenContador()}onHome(){this.router.navigate([""])}onSaveConfig(){this.updateParametros()}loadParametros(){if(this.parametro=new D.M,this.parametro.id_empresa=this.globalService.getIdEmpresa(),this.parametro.modulo="paramimoinv",this.parametro.assinatura="V1.00 08/07/2024",this.parametro.id_usuario=this.globalService.usuario.id,this.parametro.parametro='\n       {\n         "cc": "",\n         "cc_novo":"",\n         "grupo":0,\n         "situacao":-1,\n         "codigo":0,\n         "novo":0,\n         "origem":"",\n         "executor":0,\n         "condicao":0,\n         "book":"",\n         "descricao": "",\n         "page": 1,\n         "new": false,\n         "id_retorno":0\n       }',this.retorno&&null!==this.globalService.estadoFind("paramimoinv")){const a=this.globalService.estadoFind("imoinv");if(null!=a){if((0,u.xc)(a.getParametro(),"new")){let t=this.parametro.getParametro();Object(t).id_retorno=(0,u.P0)(a.getParametro(),"id_retorno"),this.parametro.parametro=JSON.stringify(t)}else this.controlePaginas.setPaginaAtual((0,u.P0)(a.getParametro(),"page")),this.parametro.setParametro(a.getParametro());this.globalService.estadoDelete(a),this.setValues(),this.getImoIvenContador()}}else this.getParametro()}getParametro(){this.globalService.setSpin(!0);let a=new xo.E;a.id_empresa=this.parametro.id_empresa,a.modulo=this.parametro.modulo,a.assinatura=this.parametro.assinatura,a.id_usuario=this.parametro.id_usuario,a.orderby="Usu\xe1rio",this.inscricaoParametro=this.parametrosService.getParametrosParametro01(a).subscribe(t=>{this.globalService.setSpin(!1),this.parametro=new D.M,this.parametro.id_empresa=t[0].id_empresa,this.parametro.modulo=t[0].modulo,this.parametro.id_usuario=t[0].id_usuario,this.parametro.assinatura=t[0].assinatura,this.parametro.parametro=t[0].parametro,this.parametro.user_insert=t[0].user_insert,this.parametro.user_update=t[0].user_update,this.setValues(),this.getImoIvenContador()},t=>{this.globalService.setSpin(!1),this.setValues(),this.getImoIvenContador()})}updateParametros(){this.globalService.setSpin(!0),this.parametro.user_insert=this.globalService.usuario.id,this.parametro.user_update=this.globalService.usuario.id;let a=this.parametro.getParametro(),t=parseInt(this.parametros.value.codigo,10);isNaN(t)?Object(a).codigo=0:Object(a).codigo=t,Object(a).cc=this.parametros.value.ccs,Object(a).cc_novo=this.parametros.value.cc_novo,Object(a).grupo=this.parametros.value.grupos,Object(a).situacao=this.parametros.value.situacoes,Object(a).codigo=this.parametros.value.codigo,Object(a).novo=this.parametros.value.novo,Object(a).origem=this.parametros.value.origem,Object(a).executor=this.parametros.value.executor,Object(a).condicao=this.parametros.value.condicao,Object(a).book=this.parametros.value.book,Object(a).descricao=this.parametros.value.descricao,Object(a).page=0,Object(a).new=!1,this.parametro.parametro=JSON.stringify(a),this.inscricaoParametro=this.parametrosService.ParametroAtualiza(this.parametro).subscribe(i=>{this.globalService.setSpin(!1),this.appSnackBar.openSuccessSnackBar("Par\xe2metros Atualizados","OK")},i=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Grava\xe7\xe3o Dos Parametros ${(0,u.bZ)(i)}`,"OK")})}openNfeDialog(){const a=new Fo;a.nfe=this.nfe,a.opcao=s.I.Consulta;const t=new h.vA;t.disableClose=!0,t.id="nfes",t.width="1200px",t.data=a,this.NfeDialog.open(Lo,t).beforeClosed().subscribe(l=>{})}openValoresDialog(){const a=new Bo;a.valor=this.valor,a.opcao=s.I.Consulta;const t=new h.vA;t.disableClose=!0,t.id="valores",t.width="1200px",t.data=a,this.valorDialog.open(eo,t).beforeClosed().subscribe(l=>{})}openLancaDialog(a,t){let i=this.parametro.getParametro();Object(i).new=!1,Object(i).id_retorno=t.id_imobilizado,Object(i).page=this.controlePaginas.getPaginalAtual(),Object(i).cc=this.parametros.value.ccs,Object(i).grupo=this.parametros.value.grupos,Object(i).situacao=this.parametros.value.situacao,Object(i).codigo=this.parametros.value.codigo,Object(i).descricao=this.parametros.value.filtro,this.parametro.parametro=JSON.stringify(i),this.globalService.estadoSave(this.parametro),console.log(this.parametro);const l=new qo;l.ccs=[...this.ccs],l.ccs[0].codigo="",l.ccs[0].descricao="CENTRO DE CUSTO N\xc3O ALTERADO",l.lancamento=this.lancamento,l.opcao=a;const m=new h.vA;m.disableClose=!0,m.id="apontamento",m.width="1200px",m.data=l,this.LancaDialog.open(To,m).beforeClosed().subscribe(p=>{this.getImoIven()})}openImobilizadoDialog(){const a=new So,t=new h.vA;t.disableClose=!0,t.id="imobilizado",t.width="1200px",t.height="1200px",t.data=a,this.LancaDialog.open(zo,t).beforeClosed().subscribe(l=>{})}onProcessar(a){if(a.opcao==s.I.None){if(0!==this.atual.id_imobilizado){const t=this.imoinv.findIndex(i=>i.id_imobilizado==this.atual.id_imobilizado);setTimeout(()=>this.viewPort.scrollToIndex(t),10)}this.atual=new Q,this.browse=!0}else this.browse=!0,this.getImoIven()}onFiltro(){this.showFiltro=!this.showFiltro}getLabelFiltro(){return this.showFiltro?"Ocultar Filtro":"Mostra Filtro"}}return e.\u0275fac=function(a){return new(a||e)(o.Y36(c.qu),o.Y36(T.U),o.Y36(Ro.J),o.Y36(Go.u),o.Y36($.Z),o.Y36(H.T),o.Y36(E.l),o.Y36(K._),o.Y36(L.r),o.Y36(v.F0),o.Y36(C.W),o.Y36(v.gz),o.Y36(o.R0b),o.Y36(h.uw),o.Y36(h.uw),o.Y36(h.uw))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-crud-imoinventario"]],viewQuery:function(a,t){if(1&a&&o.Gf(N.N7,5),2&a){let i;o.iGM(i=o.CRH())&&(t.viewPort=i.first)}},decls:7,vars:4,consts:[[3,"lancamento","ccs","idAcao","submmit",4,"ngIf"],["class","div-barra",4,"ngIf"],["autocomplete","off",3,"formGroup",4,"ngIf"],["class","content",3,"itemSize",4,"ngIf"],[1,"rodape"],[3,"lancamento","ccs","idAcao","submmit"],[1,"div-barra"],[1,"example-spacer"],[3,"controle","changePage"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Atualizar","matTooltipPosition","above",1,"example-icon",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Salvar Par\xe2metros","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Retorno","matTooltipPosition","above",3,"click"],["mat-raised-button","","color","primary",1,"botao",3,"click"],["autocomplete","off",3,"formGroup"],[1,"col-med-2"],["field","","appearance","outline",1,"col-max"],["formControlName","ccs",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","cc_novo",3,"selectionChange"],["formControlName","grupos",3,"selectionChange"],["formControlName","situacoes",3,"selectionChange"],["formControlName","origem",3,"selectionChange"],["formControlName","executor",3,"selectionChange"],[1,"col-med-4"],["appearance","outline",1,"col-max"],["matInput","","formControlName","codigo"],["matInput","","formControlName","novo"],["formControlName","condicao",3,"selectionChange"],["formControlName","book",3,"selectionChange"],[1,"col-med-1"],["matInput","","formControlName","descricao","oninput","this.value = this.value.toUpperCase()"],[3,"value"],[1,"content",3,"itemSize"],[1,"Browse_Lanc"],[1,"coluna-cabec"],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"Browse_Lanc_td"],["matTooltipPosition","above",1,"Browse_Lanc_td",3,"matTooltip"],[1,"acoes"],[3,"EXCLUIR","CONSULTAR","BARRA_VERTICAL","BARRA_NFE","BARRA_VALORES","BARRA_EXCLUIR","BARRA_ATIVIDADES","changeOpcao"]],template:function(a,t){1&a&&(o.TgZ(0,"div"),o.YNc(1,Ia,1,3,"app-imoinventario-view",0),o.qZA(),o.YNc(2,xa,16,3,"div",1),o.YNc(3,Ea,58,9,"form",2),o.YNc(4,Qa,16,2,"cdk-virtual-scroll-viewport",3),o.TgZ(5,"div",4),o._UZ(6,"h3"),o.qZA()),2&a&&(o.xp6(1),o.Q6J("ngIf",!t.browse),o.xp6(1),o.Q6J("ngIf",t.browse),o.xp6(1),o.Q6J("ngIf",t.browse&&t.showFiltro),o.xp6(1),o.Q6J("ngIf",t.browse))},directives:[f.O5,ha,I.Ye,_a.J,x.lW,fa.gM,q.Hw,c._Y,c.JL,c.sg,_.KE,_.hX,O.gD,c.JJ,c.u,f.sg,S.Nt,c.Fj,w.ey,N.N7,N.xd,N.x0,va.C],pipes:[Za.A,Aa.X,ba.g,Ca.Y,Ta.z],styles:[".content[_ngcontent-%COMP%]{height:95%;overflow:auto}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2aa}tr[_ngcontent-%COMP%]:hover{background-color:#caa99d}.rodape[_ngcontent-%COMP%]{width:100%;height:10px;color:#00f}"]}),e})();const ka=[{path:"",redirectTo:"imoinventarios",pathMatch:"full"},{path:"imoinventarios",component:oo},{path:"imoinventarios/:retorno",component:oo}];let Pa=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[v.Bz.forChild(ka)],v.Bz]}),e})();var Ya=r(3436),za=r(4466),Fa=r(7325);let Va=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[f.ez,Pa,Ya.q,N.Cl,c.u5,c.UX,za.m,Fa.yI.forChild()]]}),e})()}}]);